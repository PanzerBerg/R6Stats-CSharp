!function(a,b,c){"use strict";b.module("g2w",["ui.router","config","g2w.compare","g2w.content","g2w.entities","market.adtech","market.redirect","market.tagcommander","g2w.notifications","g2w.parser","g2w.progression","g2w.search","g2w.statistics","g2w.watchlist","uplay.connect","r6","rdv","ubiservices","data","errors","events","loading","log","permissions","g2w.router","g2w.index","g2w.resolve","g2w.section.errors","g2w.section.home","g2w.section.playerstatistics","g2w.section.rewards","rs.patterns"])}(window,window.angular),function(a,b,c){"use strict";b.module("g2w.compare",["rs.util.models"])}(window,window.angular),function(a,b,c){"use strict";b.module("g2w.content",[])}(window,window.angular),function(a,b,c){"use strict";b.module("g2w.entities",[])}(window,window.angular),function(a,b,c){"use strict";b.module("market.adtech",["market.tagcommander"])}(window,window.angular),function(a,b,c){"use strict";b.module("market.redirect",["ui.router","rs.util.localization"])}(window,window.angular),function(a,b,c){"use strict";b.module("market.tagcommander",[])}(window,window.angular),function(a,b,c){"use strict";b.module("g2w.notifications",[])}(window,window.angular),function(a,b,c){"use strict";b.module("g2w.parser",[])}(window,window.angular),function(a,b,c){"use strict";b.module("g2w.progression",[])}(window,window.angular),function(a,b,c){"use strict";b.module("g2w.search",[])}(window,window.angular),function(a,b,c){"use strict";b.module("g2w.statistics",["rs.util.models"])}(window,window.angular),function(a,b,c){"use strict";b.module("g2w.watchlist",["g2w.entities"])}(window,window.angular),function(a,b,c){"use strict";b.module("uplay.connect",["rs.util.localization"])}(window,window.angular),function(a,b,c){"use strict";b.module("r6",[])}(window,window.angular),function(a,b,c){"use strict";b.module("rdv",[])}(window,window.angular),function(a,b,c){"use strict";b.module("ubiservices",[])}(window,window.angular),function(a,b,c){"use strict";b.module("data",["ubiservices","events"])}(window,window.angular),function(a,b,c){"use strict";b.module("errors",["permissions"])}(window,window.angular),function(a,b,c){"use strict";b.module("events",[])}(window,window.angular),function(a,b,c){"use strict";b.module("loading",["events"])}(window,window.angular),function(a,b,c){"use strict";b.module("log",[])}(window,window.angular),function(a,b,c){"use strict";b.module("permissions",[])}(window,window.angular),function(a,b,c){"use strict";b.module("g2w.router",[])}(window,window.angular),function(a,b,c){"use strict";b.module("g2w.index",["rs.util.localization","market.tagcommander","g2w.resolve"])}(window,window.angular),function(a,b,c){"use strict";b.module("g2w.resolve",[])}(window,window.angular),function(a,b,c){"use strict";b.module("g2w.section.errors",["errors","g2w.index"])}(window,window.angular),function(a,b,c){"use strict";b.module("g2w.section.home",["g2w.index"])}(window,window.angular),function(a,b,c){"use strict";b.module("g2w.section.playerstatistics",["g2w.index","g2w.statistics"])}(window,window.angular),function(a,b,c){"use strict";b.module("g2w.section.rewards",["g2w.index","g2w.statistics"])}(window,window.angular),function(a,b,c){"use strict";var d={categories:[{label:{oasisId:202303},statistics:[{id:"clearance"},{id:"rank"},{statisticId:"generalpvp_timeplayed",overwriteLabel:{oasisId:195515}},{statisticId:"generalpve_timeplayed",overwriteLabel:{oasisId:195516}}]},{label:{oasisId:202304},statistics:[{statisticId:"custom_casualpvp_matchwlratio"},{statisticId:"custom_casualpvp_kdratio"},{statisticId:"casualpvp_matchplayed"}]},{label:{oasisId:202305},statistics:[{statisticId:"custom_rankedpvp_matchwlratio"},{statisticId:"custom_rankedpvp_kdratio"},{statisticId:"rankedpvp_matchplayed"}]},{label:{oasisId:202306},statistics:[{statisticId:"generalpvp_kills"},{statisticId:"generalpvp_death"},{statisticId:"custom_generalpvp_kdratio"},{statisticId:"rescuehostagepvp_bestscore",overwriteLabel:{oasisId:195867}},{statisticId:"plantbombpvp_bestscore",overwriteLabel:{oasisId:195868}},{statisticId:"secureareapvp_bestscore",overwriteLabel:{oasisId:195869}},{statisticId:"generalpvp_revive"},{statisticId:"generalpvp_headshot",overwriteLabel:{oasisId:191201}},{statisticId:"generalpvp_penetrationkills"},{statisticId:"generalpvp_meleekills"},{statisticId:"generalpvp_killassists"}]},{label:{oasisId:202307},statistics:[{statisticId:"terrohuntclassicpve_bestscore",overwriteLabel:{oasisId:192621}},{statisticId:"rescuehostagepve_bestscore",overwriteLabel:{oasisId:192619}},{statisticId:"protecthostagepve_bestscore",overwriteLabel:{oasisId:192620}},{statisticId:"allterrohuntsolo_normal_bestscore"},{statisticId:"allterrohuntcoop_normal_bestscore"},{statisticId:"allterrohuntsolo_hard_bestscore"},{statisticId:"allterrohuntcoop_hard_bestscore"},{statisticId:"allterrohuntsolo_realistic_bestscore"},{statisticId:"allterrohuntcoop_realistic_bestscore"}]},{label:{oasisId:202308},statistics:[{statisticId:"generalpve_matchplayed"},{statisticId:"plantbombpve_matchplayed",overwriteLabel:{oasisId:196387}},{statisticId:"rescuehostagepve_matchplayed",overwriteLabel:{oasisId:196386}},{statisticId:"protecthostagepve_matchplayed",overwriteLabel:{oasisId:196388}},{statisticId:"terrohuntclassicpve_matchplayed",overwriteLabel:{oasisId:196389}},{statisticId:"custom_generalpve_matchwlratio"},{statisticId:"generalpve_matchwon"},{statisticId:"generalpve_matchlost"}]},{label:{oasisId:202309},statistics:[{statisticId:"custom_generalpve_matchwlratio"},{statisticId:"generalpve_matchplayed"},{statisticId:"generalpve_matchwon"},{statisticId:"generalpve_matchlost"},{statisticId:"custom_generalpve_kdratio"},{statisticId:"generalpve_kills"},{statisticId:"generalpve_death"},{statisticId:"generalpve_killassists"},{statisticId:"generalpve_revive"},{statisticId:"generalpve_headshot",overwriteLabel:{oasisId:191201}},{statisticId:"generalpve_penetrationkills"},{statisticId:"generalpve_meleekills"}]}]};b.module("g2w.compare").constant("COMPARE",d)}(window,window.angular),function(a,b,c,d){"use strict";function e(a,c,d,e,f,g){function h(h,i){var j=d.composeSchema(f),k=d.findIds(j);return c.all({current:d.getStatistics(k,h.profileId),currentProfile:g.getProfileProgression(h.profileId),currentRank:g.getProfileRank(h.profileId),compare:d.getStatistics(k,i.profileId),compareProfile:g.getProfileProgression(i.profileId),compareRank:g.getProfileRank(i.profileId)}).then(function(c){var f=d.replaceSchema(j,c.current),g=d.replaceSchema(j,c.compare),k=b.copy(f.categories);k.forEach(function(b,d){var e=b.statistics;e.forEach(function(b,e){b.statisticId?(b.overwriteLabel&&(b.label=b.overwriteLabel),b.values=[],b.values.push(b.value),b.values.push(g.categories[d].statistics[e].value)):("rank"===b.id&&(b.label=a("translate")(190605),b.values=[c.currentRank.current,c.compareRank.current]),"clearance"===b.id&&(b.label=a("translate")(190606),b.values=[c.currentProfile.level,c.compareProfile.level]))})});var l={players:[{avatar:h.avatar,username:h.username},{avatar:i.avatar,username:i.username}],categories:k};e.openModal({rsMoleculeModal:"assets/tpl/components/quick.compare.modal.tpl.html",rsPropCloseOnBackdropClick:!0,rsPropModalTitle:a("translate")(193853),rsPropData:l})})}return{show:h}}e.$inject=["$filter","$q","statisticsService","rsMoleculeModalService","COMPARE","progressionService"],b.module("g2w.compare").service("compareService",e)}(window,window.angular,window._),function(a,b,c,d){"use strict";function e(a,b){function c(b){return d[b]?d[b]:a({url:b}).then(function(a){return d[b]=a.data,a.data})}var d={};return{getFile:c}}e.$inject=["$http","statisticsService"],b.module("g2w.content").service("contentService",e)}(window,window.angular,window._),function(a,b,c){"use strict";var d={"web.user.profile":{type:"user.profile",name:"web.user.profile",tags:["web","user","profile"]},"web.user.watchlist.uplay":{type:"user.watchlist.uplay",name:"web.user.watchlist.uplay",tags:["web","user","profile"]},"web.user.watchlist.psn":{type:"user.watchlist.psn",name:"web.user.watchlist.psn",tags:["web","user","profile"]},"web.user.watchlist.xbl":{type:"user.watchlist.xbl",name:"web.user.watchlist.xbl",tags:["web","user","profile"]}};b.module("g2w.entities").constant("ENTITIES",d)}(window,window.angular),function(a,b,c,d){"use strict";function e(a,d,e,f,g){function h(a){return c.find(l,{name:a})}function i(){return g.getProfileEntitiesSearch({profileId:m,spaceId:e.spaceIds.g2w}).then(function(a){return l.splice(0,l.length),c.forEach(a.entities,function(a){l.push(a)}),b.copy(l)})}function j(c,d){var e=h(c);return b.isUndefined(e)?k(c,d):(e.obj=d,a.info("[entitiesService.service]","update",d),g.updateProfilesEntity(e).then(function(c){return a.info("[entitiesService.service]","updated",c),b.copy(c)},function(b){return a.warn("[entitiesService.service]","_update",b),!1}).then(i))}function k(b,c){a.info("[entitiesService.service]","create",m,c);var d=f[b],h={profileId:m,spaceId:e.spaceIds.g2w,type:d.type,name:d.name,tags:d.tags,obj:c};return g.createProfilesEntity(h).then(function(b){return a.info("[entitiesService.service]","created",m,b),b}).then(i)}var l=[],m="";return{init:function(a){return m=a,i(m)},reset:function(){l.splice(0,l.length),m=""},clear:function(a){var c=h(a);return b.isDefined(c)?g.deleteProfilesEntity({entityId:c.entityId}).then(function(){return!0}).then(i):i(m)},getProperty:function(a,c){var d,e=h(a);return b.isDefined(e)&&b.isDefined(e.obj)&&(d=b.isUndefined(c)?e.obj:e.obj[c]),d},updateProperty:function(a,c,d){if(b.isUndefined(c)||b.isUndefined(d))throw"entities.service.updateProperty needs propertyId and propertyValue to be defined";var e=h(a),f={};return b.isDefined(e)&&(f=e.obj),f[c]=d,j(a,f)},deleteProperty:function(a,c){var e=h(a);if(b.isDefined(e)){var f=e.obj;return delete f[c],j(a,f)}return d.when({})}}}e.$inject=["$log","$q","CONFIG","ENTITIES","entitiesApiService"],b.module("g2w.entities").service("entitiesService",e)}(window,window.angular,window._),function(a,b,c){"use strict";function d(a,c,d,e,f){function g(){if(b.isDefined(a.id)){var f=a.id.replace(/(tc_adtech)/g,"callAdtech");try{d.info("[adTechDirective] called window method",f),e[f]()}catch(g){c.addClass("ad-tech-error"),d.error("[adTechDirective] callAdtech(); "+f+" method is undefined")}}}c.addClass("ad-tech"),f(g,0)}function e(a,b,c,e){return{restrict:"A",scope:{id:"@"},controller:d,controllerAs:"ctrl"}}d.$inject=["$scope","$element","$log","$window","$timeout"],e.$inject=["$log","$compile","$window","$timeout"],b.module("market.adtech").directive("adTech",e)}(window,window.angular),function(a,b,c){"use strict";function d(a){a.when("/:locale/player-profile","/:locale"),a.when("/:locale/player-profile/pvp/overview","/:locale")}d.$inject=["$urlRouterProvider"],b.module("market.redirect").config(d)}(window,window.angular),function(a,b,c){"use strict";var d={mdmbid:"209 - RAINBOW SIX",mdmiid:"2728 - RAINBOW SIX 7",statisticsTabs:{overview:"Overview","game-modes":"Game modes",operators:"Operators",weapons:"Weapons"}};b.module("market.tagcommander").constant("TAG_COMMANDER",d)}(window,window.angular),function(a,b,c){"use strict";function d(a,c,d,e){if(!b.isDefined(a.tcAction))throw new Error("The <tc-click-event> element properties *tc-action* is undefined.");c.on("click",function(){var b={ACTION:a.tcAction,MDMBID:d.mdmbid,MDMIID:d.mdmiid};e.sendClickEvent(b)})}function e(){return{restrict:"A",scope:{tcAction:"@"},controller:d}}d.$inject=["$scope","$element","TAG_COMMANDER","tagCommanderService"],b.module("market.tagcommander").directive("tcClickEvent",e)}(window,window.angular),function(a,b,c){"use strict";function d(a,c,d,e,f,g){d.$on("$stateChangeSuccess",function(d,g,h,i,j){var k=g.data;if(b.isDefined(k)&&b.isDefined(k.tagCommander)){var l=k.tagCommander;if(b.isUndefined(l.pageName))throw new Error("The property *pageName* is mandatory in the state tagCommander data.");if(b.isUndefined(l.sectionName)&&b.isUndefined(l.paramId))throw new Error("The property *sectionName* is mandatory in the state tagCommander data.");var m={},n=h.locale,o=n.split("-"),p=h.platform;if(m.pageName=l.pageName,m.sectionName=l.sectionName,m.language=o[0],m.country=o[1].toUpperCase(),b.isDefined(l.paramId)){var q=c[l.paramId];m.sectionName=q}if(b.isDefined(p)){m.platform="no data";var r=a.$current.locals.resolve;if(b.isDefined(r)){var s=a.$current.locals.resolve.$$values,t=b.isUndefined(s.playerPlatformProfile)||b.isUndefined(s.statistics)||s.statistics.isNoData||b.isUndefined(s.statistics.main.time.value)||0===s.statistics.main.time.value;t||(m.platform=p),b.isDefined(s.playerPlatformProfile)&&b.isDefined(s.playerPlatformProfile.ranks)&&b.isDefined(s.playerPlatformProfile.ranks.current)&&(m.pvpRank=s.playerPlatformProfile.ranks.current.icon)}else e.info("[tag.commander]","$stateChangeSuccess","state resolves is undefined")}f.updateWaData(m.pageName,m.sectionName,m.language,m.country),e.info("[tag.commander]","$stateChangeSuccess","eventObj",m),f.sendPageEvent(m.pageName,m.sectionName,m.language,m.country,m.platform,m.pvpRank,!0)}})}d.$inject=["$state","$stateParams","$rootScope","$log","tagCommanderService","CONFIG"];var e=1e13*Math.random(),f=document.createElement("script");f.id="tc_DataLayer",f.type="text/javascript",f.src="https://ubistatic2-a.akamaihd.net/worldwide_analytics/tagcommander/rainbowsix/g2w/r6g2w-wa_data.js?rand="+e,document.body.appendChild(f),f=document.createElement("script"),f.id="tc_UbiWorldWide_1",f.type="text/javascript",f.src="https://ubistatic2-a.akamaihd.net/worldwide_analytics/tagcommander/js/tc_UbiWorldWide_1.js?rand="+e,document.body.appendChild(f),f=document.createElement("script"),f.id="tc_RainbowSix_1",f.type="text/javascript",f.src="https://ubistatic2-a.akamaihd.net/worldwide_analytics/tagcommander/rainbowsix/tc_RainbowSix_1.js?rand="+e,document.body.appendChild(f),b.module("market.tagcommander").run(d)}(window,window.angular),function(a,b,c){"use strict";function d(c,d,e,f,g,h,i){function j(b,d,e,f){q.pageName=b,q.siteSection=d,q.country=e,q.language=f,a.wa_data=q,c.info("[tagCommanderService]","update window.wa_data",a.wa_data)}function k(a){var b=d.defer();return b.resolve({}),b.promise}function l(a){return k(a)}function m(){r=!1}function n(d,e,f,h,i,j,k){var l={ACTION:d,SITESECTION:e,LANGUAGE:f,COUNTRY:h,MDMBID:g.mdmbid,MDMIID:g.mdmiid};b.isDefined(i)&&(l.PLATFORM=i),b.isDefined(j)&&(l.PVPRANK=j);var m;b.isDefined(i)&&("no data"!==i?(m=b.copy(l),m.ACTION=i):l.ACTION=i);try{k&&b.isDefined(m)&&(c.info("[tagCommanderService]","sendPageEvent",m),a.tc_events_100(this,"pageevent",m)),c.info("[tagCommanderService]","sendPageEvent",l),a.tc_events_100(this,"pageevent",l)}catch(n){c.error("[tagCommanderService] pageevent; error:"+n.toString())}}function o(b){var d={ACTION:b,MDMBID:g.mdmbid,MDMIID:g.mdmiid};c.info("[tagCommanderService]","sendClickEvent",d);try{a.tc_events_100(this,"clickevent",d)}catch(e){c.error("[tagCommanderService] clickevent; error:"+e.toString())}}var p=f.market.tagCommander;if(b.isUndefined(p))throw new Error("The tagCommanderService needs a proper config defined in CONFIG.market.tagCommander");if(b.isUndefined(p.adProfileUrl))throw new Error("The tagCommanderService needs a proper adProfileUrl");var q={environment:p.env,pageName:"Preloader",siteSection:"Home pages",country:"XX",language:"XX"};a.wa_data=q,c.info("[tagCommanderService]","initialize window.wa_data variable",a.wa_data);var r=!1;return{init:l,reset:m,sendPageEvent:n,sendClickEvent:o,updateWaData:j}}d.$inject=["$log","$q","$http","CONFIG","TAG_COMMANDER","sessionService","platformsService"],b.module("market.tagcommander").service("tagCommanderService",d)}(window,window.angular),function(a,b,c){"use strict";b.module("g2w.notifications").constant("NOTIFICATIONS",{ttl:1e4})}(window,window.angular),function(a,b,c){"use strict";function d(a,c){function d(a){f(a);var b=g.indexOf(a);g.splice(b,1)}function e(b,c){b.ttl=c,h.push(b),b.ttlTimeout=a(function(){d(b)},c)}function f(b){var c=h.indexOf(b);c>=0&&(a.cancel(b.ttlTimeout),h.splice(c,1))}var g=[],h=[];return{reset:function(){_.forEach(g,function(a){f(a)}),g.splice(0,g.length)},add:function(a,f,h,i){b.isUndefined(h)&&(h=c.ttl);var j={tpl:a,image:f.image,data:f,action:function(a){b.isDefined(i)&&i(a),"close"===a&&d(j)}};h>0&&e(j,h),g.push(j)},list:g}}d.$inject=["$timeout","NOTIFICATIONS"],b.module("g2w.notifications").service("notificationsService",d)}(window,window.angular),function(a,b,c,d){"use strict";function e(a,d){function e(a){var b={platformType:a.platformType,profileId:a.profileId,username:a.nameOnPlatform,userId:a.userId,avatar:{smallUrl:d.uplayConnect.avatarBaseUrl+"/"+a.userId+"/default_146_146.png?appId="+d.appIds.g2w,mediumUrl:d.uplayConnect.avatarBaseUrl+"/"+a.userId+"/default_256_256.png?appId="+d.appIds.g2w}};return b}function f(b){var e={},f=c.keyBy(b.profiles,"platformType");return c.forEach(f,function(a,b){d.platforms.indexOf(b)>=0&&(e[b]=h.getProfile(a),e[b].platformType=b)}),a.info("[parser.profile.service]","search","data",b,"result",e),e}function g(a){var e,f={};return c.forEach(a.profiles,function(a){b.isUndefined(f[a.userId])&&(f[a.userId]={}),b.isUndefined(e)&&(e=f[a.userId]),d.platforms.indexOf(a.platformType)>=0&&(f[a.userId][a.platformType]=h.getProfile(a))}),c.toArray(f)}var h=this;return b.extend(h,{getProfile:e,byPlatform:f,search:g})}e.$inject=["$log","CONFIG"],b.module("g2w.parser").service("profileParserService",e)}(window,window.angular,window._),function(a,b,c,d){"use strict";function e(a,b){return{action:function(a){var d={};return d.id=a.id,d.name=a.name,d.isBadge=a.isBadge,d.isCompleted=a.isCompleted,d.isAvailable=a.available,d.value=a.value,d.image=c.find(a.images,{type:"thumbnail"}),d.image=d.image?b.uplayConnect.staticUrl+d.image.url:"",d},actionList:function(a){var b=this,d=[];return c.forEach(a,function(a){d.push(b.action(a))}),d}}}e.$inject=["$log","CONFIG"],b.module("g2w.parser").service("uplaywinParserService",e)}(window,window.angular,window._),function(a,b,c){"use strict";var d=["ncsa","emea","apac"],e={};b.module("g2w.statistics").constant("REGIONS",d).constant("PROGRESSION",e)}(window,window.angular),function(a,b,c,d){"use strict";function e(a,d,e,f,g,h){function i(a){var c={level:"-"};if(!a.data||!a.data.errorCode){var d=b.copy(a.player_profiles[0]);0!==parseInt(d.xp)&&(c.level=d.level)}return c}function j(a,b){var e={};if(!a.data||!a.data.errorCode){var f;h.forEach(function(c){var d=a[c].players,e=d[b];e&&(f?e.rank>f.rank&&(f=e):f=e)});var g=a.schema,i=f.season-2,j=g.seasons[i],k=f.rank;e.current={icon:j.ranks[k].images.hd||j.ranks[k].images["default"],value:"-",label:d("translate")(j.ranks[k].name.oasisId)},k>0&&(e.current.value=c.floor(f.mmr),e.current.range=j.ranks[k].range,k>0&&(e.previous={icon:j.ranks[k-1].images["default"],value:c.floor(j.ranks[k-1].range[1]),label:d("translate")(j.ranks[k-1].name.oasisId),range:j.ranks[k-1].range}),k<20&&(e.next={icon:j.ranks[k+1].images["default"],value:c.floor(j.ranks[k+1].range[0]),label:d("translate")(j.ranks[k+1].name.oasisId),range:j.ranks[k+1].range}))}return e}function k(a,c,d){var e={profile_ids:a.join(","),season_id:c||-1,board_id:"pvp_ranked",region_id:d};return b.copy(e)}function l(b,c){var d=[b],e={schema:g.getFile("assets/data/ranks.c2baadef.json")};return h.forEach(function(a){e[a]=f.get(k(d,c,a))}),a.all(e).then(function(a){return j(a,b)},function(a){return j(a,b)})}function m(a){var b={profile_ids:a};return e.getProgressions(b).then(i,i)}return{getProfileProgression:m,getProfileRank:l}}e.$inject=["$q","$filter","r6PlayerProfileApiService","r6KarmaApiService","contentService","REGIONS"],b.module("g2w.progression").service("progressionService",e)}(window,window.angular,window._),function(a,b,c,d){"use strict";function e(a,b,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){function w(a){return k.parsePlatform().then(function(b){return a.request.platformType=b.type,a})}function x(b){function d(a){return i.search({nameOnPlatform:b.request.nameOnPlatform,platformType:a})}f.debug("[index.service]","search","profiles",b);var e={};return b.request.multiplatform?c.forEach(g.platforms,function(a){e[a]=d(a)}):e[b.request.platformType]=d(b.request.platformType),a.all(e).then(function(a){var d=[];c.forEach(a,function(a){c.forEach(a.profiles,function(a){d.push(l.getProfile(a))})});c.groupBy(d,"userId");return b.results.profiles=d,b},function(){return f.warn("[index.service]","multisearch error"),b})}function y(a){return f.debug("[index.service]","search","adddata",a),c.forEach(a.results.profiles,function(a){a.image=a.avatar.smallUrl}),a}function z(b){if(""===b)return a.when([]);var c={request:{nameOnPlatform:b,multiplatform:!1},results:{}};return w(c).then(x).then(y).then(function(a){return a.results.profiles})}return{search:z}}e.$inject=["$q","$rootScope","$state","$translate","$log","CONFIG","INDEX","profileApiService","sessionService","platformsService","profileParserService","r6KarmaApiService","r6PlayerProfileApiService","friendsApiService","rsMoleculeModalService","uplayConnectService","notificationsService","watchlistService","entitiesService","rsLayoutOffcanvasService","statisticsService"],b.module("g2w.search").service("searchService",e)}(window,window.angular,_),function(a,b,c){"use strict";var d={operatorpvp_timeplayed:{label:{oasisId:191229},icon:"stat-time",type:"time"},custom_operatorpvp_wlratio:{label:{oasisId:190607},icon:"stat-match",type:"ratio",build:[{statisticId:"operatorpvp_roundwon"},{statisticId:"operatorpvp_roundlost"}]},operatorpvp_roundwon:{label:{oasisId:190607}},operatorpvp_roundlost:{label:{oasisId:190607}},custom_operatorpvp_kdratio:{label:{oasisId:191200},icon:"stat-killdeath",type:"ratio",build:[{statisticId:"operatorpvp_kills"},{statisticId:"operatorpvp_death"}]},operatorpvp_kills:{label:{oasisId:191200}},operatorpvp_death:{label:{oasisId:191200}},operatorpve_timeplayed:{label:{oasisId:191229},icon:"stat-time",type:"time"},custom_operatorpve_wlratio:{label:{oasisId:190607},icon:"stat-match",type:"ratio",build:[{statisticId:"operatorpve_roundwon"},{statisticId:"operatorpve_roundlost"}]},operatorpve_roundwon:{label:{oasisId:190607}},operatorpve_roundlost:{label:{oasisId:190607}},custom_operatorpve_kdratio:{label:{oasisId:191200},icon:"stat-killdeath",type:"ratio",build:[{statisticId:"operatorpve_kills"},{statisticId:"operatorpve_death"}]},operatorpve_kills:{label:{oasisId:191200}},operatorpve_death:{label:{oasisId:191200}},generalpvp_timeplayed:{label:{oasisId:157837},icon:"stat-time",type:"time"},generalpvp_matchplayed:{label:{oasisId:191358},icon:"stat-plays"},generalpvp_matchwon:{label:{oasisId:192635}},generalpvp_matchlost:{label:{oasisId:191360}},generalpvp_kills:{label:{oasisId:191205}},generalpvp_death:{label:{oasisId:194661}},custom_generalpvp_kdratio:{label:{oasisId:191200},type:"ratio",build:[{statisticId:"generalpvp_kills"},{statisticId:"generalpvp_death"}]},generalpvp_bullethit:{label:{oasisId:191207}},generalpvp_bulletfired:{label:{oasisId:191206}},generalpvp_killassists:{label:{oasisId:191216}},generalpvp_revive:{label:{oasisId:191217}},generalpvp_headshot:{label:{oasisId:191210}},generalpvp_penetrationkills:{label:{oasisId:191367}},generalpvp_meleekills:{label:{oasisId:191203}},generalpve_timeplayed:{label:{oasisId:157837},icon:"stat-time",type:"time"},generalpve_matchplayed:{label:{oasisId:191358},icon:"stat-plays"},generalpve_matchwon:{label:{oasisId:192635}},generalpve_matchlost:{label:{oasisId:191360}},custom_generalpve_matchwlratio:{label:{oasisId:192633},type:"ratio",build:[{statisticId:"generalpve_matchwon"},{statisticId:"generalpve_matchlost"}]},generalpve_kills:{label:{oasisId:191205}},generalpve_death:{label:{oasisId:194661}},custom_generalpve_kdratio:{label:{oasisId:191200},type:"ratio",build:[{statisticId:"generalpve_kills"},{statisticId:"generalpve_death"}]},generalpve_bullethit:{label:{oasisId:191207}},generalpve_bulletfired:{label:{oasisId:191206}},generalpve_killassists:{label:{oasisId:191216}},generalpve_revive:{label:{oasisId:191217}},generalpve_headshot:{label:{oasisId:191210}},generalpve_penetrationkills:{label:{oasisId:191367}},generalpve_meleekills:{label:{oasisId:191203}},casualpvp_timeplayed:{label:{oasisId:194662},type:"time"},casualpvp_matchwon:{label:{oasisId:194828}},casualpvp_matchlost:{label:{oasisId:191360}},custom_casualpvp_matchwlratio:{label:{oasisId:192633},type:"ratio",build:[{statisticId:"casualpvp_matchwon"},{statisticId:"casualpvp_matchlost"}]},casualpvp_matchplayed:{label:{oasisId:191358}},custom_casualpvp_kdratio:{label:{oasisId:196422},type:"ratio",build:[{statisticId:"casualpvp_kills"},{statisticId:"casualpvp_death"}]},casualpvp_kills:{label:{oasisId:191205}},casualpvp_death:{label:{oasisId:194661}},rankedpvp_timeplayed:{label:{oasisId:194662},type:"time"},rankedpvp_matchwon:{label:{oasisId:194828}},rankedpvp_matchlost:{label:{oasisId:191360}},custom_rankedpvp_matchwlratio:{label:{oasisId:192633},type:"ratio",build:[{statisticId:"rankedpvp_matchwon"},{statisticId:"rankedpvp_matchlost"}]},rankedpvp_matchplayed:{label:{oasisId:191358}},custom_rankedpvp_kdratio:{label:{oasisId:196423},type:"ratio",build:[{statisticId:"rankedpvp_kills"},{statisticId:"rankedpvp_death"}]},rankedpvp_kills:{label:{oasisId:191205}},rankedpvp_death:{label:{oasisId:194661}},allterrohuntcoop_normal_bestscore:{label:{oasisId:201696}},allterrohuntcoop_hard_bestscore:{label:{oasisId:201697}},allterrohuntcoop_realistic_bestscore:{label:{oasisId:201698}},allterrohuntsolo_normal_bestscore:{label:{oasisId:201693}},allterrohuntsolo_hard_bestscore:{label:{oasisId:201694}},allterrohuntsolo_realistic_bestscore:{label:{oasisId:201695}},secureareapvp_matchwon:{label:{oasisId:192635},icon:"stat-challenge"},secureareapvp_matchlost:{label:{oasisId:191360},icon:"stat-lost"},custom_secureareapvp_wlratio:{label:{oasisId:194826},type:"ratio",icon:"stat-match",build:[{statisticId:"secureareapvp_matchwon"},{statisticId:"secureareapvp_matchlost"}]},secureareapvp_matchplayed:{label:{oasisId:191358},icon:"stat-plays"},secureareapvp_bestscore:{label:{oasisId:199912},icon:"stat-win"},rescuehostagepvp_matchwon:{label:{oasisId:192635},icon:"stat-challenge"},rescuehostagepvp_matchlost:{label:{oasisId:191360},icon:"stat-lost"},custom_rescuehostagepvp_wlratio:{label:{oasisId:194826},type:"ratio",icon:"stat-match",build:[{statisticId:"rescuehostagepvp_matchwon"},{statisticId:"rescuehostagepvp_matchlost"}]},rescuehostagepvp_matchplayed:{label:{oasisId:191358},icon:"stat-plays"},rescuehostagepvp_bestscore:{label:{oasisId:199912},icon:"stat-win"},plantbombpvp_matchwon:{label:{oasisId:192635},icon:"stat-challenge"},plantbombpvp_matchlost:{label:{oasisId:191360},icon:"stat-lost"},custom_plantbombpvp_wlratio:{label:{oasisId:194826},type:"ratio",icon:"stat-match",build:[{statisticId:"plantbombpvp_matchwon"},{statisticId:"plantbombpvp_matchlost"}]},plantbombpvp_matchplayed:{label:{oasisId:191358},icon:"stat-plays"},plantbombpvp_bestscore:{label:{oasisId:199912},icon:"stat-win"},plantbombpve_matchwon:{label:{oasisId:192635},icon:"stat-challenge"},plantbombpve_matchlost:{label:{oasisId:191360},icon:"stat-lost"},custom_plantbombpve_wlratio:{label:{oasisId:194826},type:"ratio",icon:"stat-match",build:[{statisticId:"plantbombpve_matchwon"},{statisticId:"plantbombpve_matchlost"}]},plantbombpve_matchplayed:{label:{oasisId:191358},icon:"stat-plays"},plantbombpve_bestscore:{label:{oasisId:199912},icon:"stat-win"},rescuehostagepve_matchwon:{label:{oasisId:192635},icon:"stat-challenge"},rescuehostagepve_matchlost:{label:{oasisId:191360},icon:"stat-lost"},custom_rescuehostagepve_wlratio:{label:{oasisId:194826},type:"ratio",icon:"stat-match",build:[{statisticId:"rescuehostagepve_matchwon"},{statisticId:"rescuehostagepve_matchlost"}]},rescuehostagepve_matchplayed:{label:{oasisId:191358},icon:"stat-plays"},rescuehostagepve_bestscore:{label:{oasisId:199912},icon:"stat-win"},protecthostagepve_matchwon:{label:{oasisId:192635},icon:"stat-challenge"},protecthostagepve_matchlost:{label:{oasisId:191360},icon:"stat-lost"},custom_protecthostagepve_wlratio:{label:{oasisId:194826},type:"ratio",icon:"stat-match",build:[{statisticId:"protecthostagepve_matchwon"},{statisticId:"protecthostagepve_matchlost"}]},protecthostagepve_matchplayed:{label:{oasisId:191358},icon:"stat-plays"},protecthostagepve_bestscore:{label:{oasisId:199912},icon:"stat-win"},terrohuntclassicpve_matchwon:{label:{oasisId:192635},icon:"stat-challenge"},terrohuntclassicpve_matchlost:{label:{oasisId:191360},icon:"stat-lost"},custom_terrohuntclassicpve_wlratio:{label:{oasisId:194826},type:"ratio",icon:"stat-match",build:[{statisticId:"terrohuntclassicpve_matchwon"},{statisticId:"terrohuntclassicpve_matchlost"}]},terrohuntclassicpve_matchplayed:{label:{oasisId:191358},icon:"stat-plays"},terrohuntclassicpve_bestscore:{label:{oasisId:199912},icon:"stat-win"},weapontypepvp_kills:{label:{oasisId:191205},icon:"stat-kills"},weapontypepvp_headshot:{label:{oasisId:191201},icon:"stat-headshot"},weapontypepvp_bulletfired:{label:{oasisId:191206},icon:"common-magazine"},weapontypepvp_bullethit:{label:{oasisId:191207},icon:"stat-hits"},custom_weapontypepvp_accuracy:{label:{oasisId:191202},type:"ratio",icon:"stat-accuracy",build:[{statisticId:"weapontypepvp_bullethit"},{statisticId:"weapontypepvp_bulletfired"}]},weapontypepve_kills:{label:{oasisId:191205},icon:"stat-kills"},weapontypepve_headshot:{label:{oasisId:191201},icon:"stat-headshot"},weapontypepve_bulletfired:{label:{oasisId:191206},icon:"common-magazine"},weapontypepve_bullethit:{label:{oasisId:191207},icon:"stat-hits"},custom_weapontypepve_accuracy:{label:{oasisId:191202},type:"ratio",icon:"stat-accuracy",build:[{statisticId:"weapontypepve_bullethit"},{statisticId:"weapontypepve_bulletfired"}]}};b.module("g2w.section.playerstatistics").constant("STATISTICS",d)}(window,window.angular),function(a,b,c,d){"use strict";function e(a,c,d,e){function f(a){var e,f=a.statisticId,g=f.indexOf(":");g!==-1&&(f=f.substr(0,g),e=a.statisticId.substring(g));var h=b.copy(d[f]);return h?(h=Object.assign(a,h),h.build&&e&&h.build.forEach(function(a){a.statisticId=a.statisticId+e})):(c.info('The statistics "'+f+'" schema was not defined'),h=a),h}function g(a){var b,c=a.build[0],d=a.build[1];return(c.value||d.value)&&(b=c.value?d.value?c.value/d.value:c.value:0),b}function h(a){var b,c=a.type;switch(c){case"ratio":b=g(a)}return b}function i(a){var b=JSON.stringify(a,function(a,b){if(b){var c=b.statisticId;if(c){var d=f(b);b=d}}return b});return JSON.parse(b)}function j(a){var b=[];return JSON.stringify(a,function(a,c){if("statisticId"===a){var d=c.split(":")[0],e=d.indexOf("custom_")!==-1;e||b.indexOf(d)!==-1||b.push(d)}return c}),b}function k(a,b){var d={populations:b,statistics:a.join(",")};return e.getStatistics(d).then(function(a){return a.results[b]||{}},function(a){return c.error(a),{}})}function l(b,c){var d=JSON.stringify(b,function(b,d){if(d){var e=d.statisticId;e&&(d.value=c[e+":infinite"]),d.oasisId&&(d=a("translate")(d.oasisId))}return d}),e=JSON.parse(d,function(a,b){if(b){var c=b.build;c&&(b.value=h(b))}return b});return e}return{composeSchema:i,findIds:j,getStatistics:k,replaceSchema:l}}e.$inject=["$filter","$log","STATISTICS","playerStatApiService"],b.module("g2w.statistics").service("statisticsService",e)}(window,window.angular,window._),function(a,b,c){"use strict";b.module("g2w.watchlist").constant("WATCHLIST",{max:100})}(window,window.angular),function(a,b,c,d){"use strict";function e(a,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){function u(){return a.debug("[watchlist.service]","_getFriendsIds"),p.getRelationships().then(function(b){var d=c.filter(b.friends,{state:"Friends"}),e=c.map(d,"pid");return a.debug("[watchlist.service]","_getFriendsIds done",e),e})}function v(b){return a.debug("[watchlist.service]","_updateEntities"),m.updateProperty("web.user.watchlist."+y,"uids",b).then(function(){return B=!1,z=b,a.debug("[watchlist.service]","_updateEntities done",z),f.$broadcast("watchlist.changed"),z})}function w(d){if(a.debug("[watchlist.service]","_fetchProfiles"),0===c.size(d))return e.when([]);
var f=c.toArray(c.map(A,"userId")),i=c.differenceWith(d,f);if(0===c.size(i))return e.when(f);for(var j=function(a){return n.search({userId:a.join(",")},[o.search])},k=[],m=0;m<i.length;){var p=c.slice(i,m,m+15);k.push(j(p)),m+=p.length}return l.qSequence(k,250).then(function(d){var e=[];return c.forEach(d,function(a){e.push.apply(e,a)}),c.forEach(e,function(d){if(d[y]){var e=b.copy(d[y]);e.avatar=e.avatar.smallUrl,e.goToProfile=function(){var a=b.copy(h);a.userId=e.userId,g.go("playerstatistics.multiplayer",a),t.sendEvent("watchlistShowProfile"),r.closePanel("main")},e.isWatched=!0,e._sortField=e.username.toLowerCase();var f=c.find(A,{_sortField:e._sortField});b.isUndefined(f)?A.splice(c.sortedIndexBy(A,e,"_sortField"),0,e):a.error("[watchlist.service]","try to add a profile already in collection")}}),a.debug("[watchlist.service]","_fetchProfiles","done",e.length),c.toArray(c.map(A,"userId"))})}var x,y,z=[],A=[],B=!1,C=!1,D=!1;return{getMaxPlayer:function(){return k.max},init:function(b,c){a.info("[watchlist.service]","init",b,c);return D=!1,A.splice(0,A.length),x=b,y=c,z=m.getProperty("web.user.watchlist."+y,"uids")||[],a.info("[watchlist.service]","initialized","uids",z),f.$broadcast("watchlist.changed"),e.when(z)},load:function(){if(a.debug("[watchlist.service]","load","already loading",C),a.info("[watchlist.service]","load"),!C)return C=!0,D?(a.info("[watchlist.service]","skipping load"),C=!1,f.$broadcast("watchlist.changed"),e.when()):w(z).then(function(){a.info("[watchlist.service]","loaded"),D=!0,C=!1,t.setCustomDimension("watched",z.length),f.$broadcast("watchlist.changed")})},reset:function(){a.info("[watchlist.service]","reset"),x=d,y=d,z.splice(0,z.length),A.splice(0,A.length),B=!1,C=!1,D=!1,f.$broadcast("watchlist.changed")},list:A,getIsLoading:function(){return C},clear:function(){a.info("[watchlist.service]","clear");var b=this;return e(function(c,d){m.clear("web.user.watchlist."+y).then(function(){a.info("[watchlist.service]","cleared"),b.init(x,y).then(c,d)},d)})},isWatched:function(b){var c=z.indexOf(b)>=0;return a.info("[watchlist.service]","isWatched",b,c),c},add:function(d){return a.info("[watchlist.service]","add",y,d),e(function(e,f){if(c.size(z)===k.max)s.add("assets/tpl/components/notification.watchlist.max.tpl.html",{}),t.sendEvent("watchlistFull"),f(q.generateError("insufficientStorage","watchlist.service","add"));else if(d===x)f(q.generateError("methodNotAllowed","watchlist.service","add - self"));else if(z.indexOf(d)>=0)f(q.generateError("methodNotAllowed","watchlist.service","add - already"));else{var g=b.copy(z);g.push(d),v(g).then(w).then(function(e){var f=c.find(A,{userId:d});b.isDefined(f)&&s.add("assets/tpl/components/notification.watchlist.added.tpl.html",{profile:{playername:f.username}}),t.sendEvent("addToWatchlist"),t.setCustomDimension("watched",g.length),a.info("[watchlist.service]","added",y,d)}).then(e)["catch"](f)}})},remove:function(d){return a.info("[watchlist.service]","remove",y,d),e(function(e,g){if(z.indexOf(d)<0)g(q.generateError("methodNotAllowed","watchlist.service","remove - doesnt exist"));else{var h=z.indexOf(d),i=b.copy(z);i.splice(h,1),v(i).then(function(){var g=c.find(A,{userId:d});b.isDefined(g)?s.add("assets/tpl/components/notification.watchlist.removed.tpl.html",{profile:{playername:g.username}}):a.warn("[watchlist.service]","removed",d,"cant be found in profiles list (are u spamming key ?)");var h=A.indexOf(g);if(h>=0){A.splice(h,1)}a.info("[watchlist.service]","removed",y,d),t.sendEvent("removeFromWatchlist"),t.setCustomDimension("watched",i.length),z=i,f.$broadcast("watchlist.changed"),e()},g)}})},importFriends:function(){return a.info("[watchlist.service]","importFriends",y),u().then(function(a){var b=c.toArray(c.map(A,"userId"));c.differenceWith(a,b);return t.sendEvent("importFriends",a.length),a}).then(w).then(v).then(function(b){a.info("[watchlist.service]","importFriends done",b.length),b.length>0&&(f.$broadcast("watchlist.changed"),s.add("assets/tpl/components/notification.watchlist.imported.tpl.html",{"int":b.length}))})["catch"](function(){})}}}e.$inject=["$log","$q","$rootScope","$state","$stateParams","$timeout","CONFIG","WATCHLIST","dataUtilsService","entitiesService","profileApiService","profileParserService","friendsApiService","errorsService","rsLayoutOffcanvasService","notificationsService","googleAnalyticsService"],b.module("g2w.watchlist").service("watchlistService",e)}(window,window.angular,window._),function(a,b,c){"use strict";var d={status:{failed:"FAILED"},requestTimeout:1e4};b.module("uplay.connect").constant("UPLAYCONNECT",d)}(window,window.angular),function(a,b,c){"use strict";function d(c,d,e,f){if(c.addClass("uplay-connect"),b.isUndefined(a.location.origin)){var g=a.location.protocol,h=a.location.hostname,i=a.location.port?":"+a.location.port:"";a.location.origin=g+"//"+h+i}var j=d.appIds.g2w,k=e.use(),l=a.location.origin+"/redirect.html",m=d.uplayConnect.iframe+"?appId="+j+"&lang="+k+"&nextUrl="+l;f.info("[uplay.connect.directive]","iframeSrc",m),c.attr("src",m)}function e(){return{restrict:"E",replace:!0,template:"<iframe></iframe>",controller:d}}d.$inject=["$element","CONFIG","$translate","$log"],b.module("uplay.connect").directive("uplayConnect",e)}(window,window.angular),function(a,b,c){"use strict";function d(a,c){a.$on("$stateChangeError",function(a,d,e,f,g,h){"permissions.service"===h.source&&"isUserAllowed"===h.operation&&"anonymous"===h.userType&&(b.isUndefined(h.redirection)?h.callback=c.showLogin:h.redirection.callback=c.showLogin)})}d.$inject=["$rootScope","uplayConnectService"],b.module("uplay.connect").run(d)}(window,window.angular),function(a,b,c){"use strict";function d(c,d,e,f,g,h,i,j,k,l){var m,n=a.uplay,o={},p=!1,q="en-US";return a.redirectOnLogin=function(){m()},{init:function(a,e,h,i){return e=e||c.uplayConnect.genomeId,h=h||q,i=i||"",f(function(c,f){if(b.isUndefined(n))f(k.generateError("internal","uplay.connect.service","init"));else{var j=g(function(){f(k.generateError("requestTimeout","uplay.connect.service","init"))},d.requestTimeout);if(p)c(o);else try{n.init(a,e,h,i,function(){g.cancel(j),p=!0,c(o)})}catch(l){f(k.generateError("internal","uplay.connect.service","init try-catch"))}}})},getTicket:function(){return f(function(a,b){e.info("[uplay.connect.service]","getTicket");var c=g(function(){e.info("[uplay.connect.service]","getTicket","timeout"),b(k.generateError("requestTimeout","uplay.connect.service","getTicket"))},d.requestTimeout);try{n.getTicket(function(f){e.info("[uplay.connect.service]","getTicket","data",f),g.cancel(c),f.status!==d.status.failed?(o=f,a(o)):b(k.generateError("unauthorized","uplay.connect.service","getTicket"))})}catch(f){b(k.generateError("internal","uplay.connect.service","getTicket try-catch"))}})},logout:function(){return f(function(a,b){var c=g(function(){b(k.generateError("requestTimeout","uplay.connect.service","logout"))},d.requestTimeout);n.logout(o.ticket,function(){g.cancel(c),o={},a(o)})})},setRedirectLogin:function(a){m=a},getUplayIframeUrl:function(){var b=a.location.origin,d=a.encodeURIComponent(b),e=c.uplayConnect.iframe+"?genomeId="+c.uplayConnect.genomeId+"&appId="+c.appIds.g2w+"&lang="+i.use()+"&nextUrl="+d+"/redirect.html";return e},showLogin:function(){var b=a.location.origin,d=a.encodeURIComponent(b),e=c.uplayConnect.iframe+"?genomeId="+c.uplayConnect.genomeId+"&appId="+c.appIds.g2w+"&lang="+i.use()+"&nextUrl="+d+"/redirect.html";j.$broadcast("loading.hide"),l.openModal({rsMoleculeModal:"assets/tpl/components/login.modal.tpl.html",rsPropCloseOnBackdropClick:!0,rsPropModalTitle:195124,rsPropData:e})},reset:function(){o={}}}}d.$inject=["CONFIG","UPLAYCONNECT","$log","$q","$timeout","$state","$translate","$rootScope","errorsService","rsMoleculeModalService"],b.module("uplay.connect").service("uplayConnectService",d)}(window,window.angular),function(a,b,c){"use strict";function d(){function a(a,d,e){function f(){return c.baseUrl||d.config.baseUrl}var g={config:c,get:function(e,g,h){return a.call("GET",f()+"/players",e,b.merge({},d.config.headers,c.headers,h),g)}};return g}var c={headers:{},baseUrl:""},d={config:c,$get:["httpService","r6Service","$log",a]};return d}b.module("r6").provider("r6KarmaApiService",d)}(window,window.angular),function(a,b,c){"use strict";function d(){function a(a,d,e){function f(){var a=c.baseUrl||d.config.baseUrl;return a}var g={config:c,getProgression:function(e,g,h){return a.call("GET",f()+"/playerprofile/progression",e,b.merge({},d.config.headers,c.headers,h),g)},getProgressions:function(e,g,h){return a.call("GET",f()+"/playerprofile/progressions",e,b.merge({},d.config.headers,c.headers,h),g)}};return g}var c={headers:{},baseUrl:""},d={config:c,$get:["httpService","r6Service","$log",a]};return d}b.module("r6").provider("r6PlayerProfileApiService",d)}(window,window.angular),function(a,b,c){"use strict";function d(){var a=(b.injector(["ng"]).get("$log"),{_headers:{}});Object.defineProperty(a,"headers",{get:function(){return a._headers},set:function(b){a._headers=b}}),Object.defineProperty(a,"baseUrl",{get:function(){return a._baseUrl},set:function(b){a._baseUrl=b}});var c={config:a,$get:["$log",function(b){var c={config:a};return c}]};return c}b.module("r6").provider("r6Service",d)}(window,window.angular),function(a,b,c,d){"use strict";function e(a){}e.$inject=["CONFIG"],b.module("rdv").config(e)}(window,window.angular,window._),function(a,b,c){"use strict";function d(a,b,c,d,e){return{setPlatformType:function(f){a.info("[rdv.config.service]","setPlatformType",f);var g=e.ubiservices.baseUrl+"/v1/spaces/"+e.spaceIds[f]+"/sandboxes/"+e.sandboxes[f];b.config.baseUrl=g+"/r6playerprofile",c.config.baseUrl=g+"/r6karma",d.config.baseUrl=g+"/playerstats2"}}}d.$inject=["$log","r6PlayerProfileApiService","r6KarmaApiService","playerStatApiService","CONFIG"],b.module("rdv").service("rdvConfigService",d)}(window,window.angular),function(a,b,c){"use strict";function d(){function a(a,d,e){function f(){return c.baseUrl||d.config.baseUrl}var g={config:c,getStatistics:function(e,g,h){return a.call("GET",f()+"/statistics",e,b.merge({},d.config.headers,c.headers,h),g)},getLeaderboard:function(e,g,h){return a.call("GET",f()+"/leaderboards/:leaderboardName/:period",e,b.merge({},d.config.headers,c.headers,h),g)}};return g}var c={headers:{},baseUrl:""},d={config:c,$get:["httpService","rdvService","$log",a]};return d}b.module("rdv").provider("playerStatApiService",d)}(window,window.angular),function(a,b,c){"use strict";function d(){var a=(b.injector(["ng"]).get("$log"),{_headers:{}});Object.defineProperty(a,"headers",{get:function(){return a._headers},set:function(b){a._headers=b}}),Object.defineProperty(a,"baseUrl",{get:function(){return a._baseUrl},set:function(b){a._baseUrl=b}});var c={config:a,$get:["$log",function(b){var c={config:a};return c}]};return c}b.module("rdv").provider("rdvService",d)}(window,window.angular),function(a,b,c){"use strict";function d(){function a(a,d,e){function f(){return c._baseUrl||d.config.baseUrl}var g={config:c,getMeProfileApplications:function(e,g,h){return a.call("GET",f()+"/v3/profiles/me/applications",e,b.merge({},d.config.headers,c.headers,h),g)},getProfileApplicationsByProfile:function(e,g,h){return a.call("GET",f()+"/v3/profiles/:profileId/applications",e,b.merge({},d.config.headers,c.headers,h),g)},getProfileApplicationsByProfileList:function(e,g,h){return a.call("GET",f()+"/v3/profiles/applications",e,b.merge({},d.config.headers,c.headers,h),g)}};return g}var c={headers:{},baseUrl:""},d={config:c,$get:["httpService","ubiservicesService","$log",a]};return d}b.module("ubiservices").provider("applicationusedApiService",d)}(window,window.angular),function(a,b,c){"use strict";function d(){function a(a,d,e){function f(){return c._baseUrl||d.config.baseUrl}var g={config:c,getProfilesEntitiesSearch:function(e,g,h){return a.call("GET",f()+"/v2/profiles/entities",e,b.merge({},d.config.headers,c.headers,h),g)},getProfilesEntityById:function(e,g,h){return a.call("GET",f()+"/v2/profiles/entities/:entityId",e,b.merge({},d.config.headers,c.headers,h),g)},updateProfilesEntity:function(e,g,h){return a.call("PUT",f()+"/v2/profiles/entities/:entityId",e,b.merge({},d.config.headers,c.headers,h),g)},deleteProfilesEntity:function(e,g,h){return a.call("DELETE",f()+"/v2/profiles/entities/:entityId",e,b.merge({},d.config.headers,c.headers,h),g)},getProfileEntitiesSearch:function(e,g,h){return a.call("GET",f()+"/v2/profiles/:profileId/entities",e,b.merge({},d.config.headers,c.headers,h),g)},createProfilesEntity:function(e,g,h){return a.call("POST",f()+"/v2/profiles/:profileId/entities",e,b.merge({},d.config.headers,c.headers,h),g)},getSpacesEntitiesSearch:function(e,g,h){return a.call("GET",f()+"/v2/spaces/entities",e,b.merge({},d.config.headers,c.headers,h),g)},getSpacesEntity:function(e,g,h){return a.call("GET",f()+"/v2/spaces/entities/:entityId",e,b.merge({},d.config.headers,c.headers,h),g)},getSpaceEntitiesSearch:function(e,g,h){return a.call("GET",f()+"/v2/spaces/:spaceId/entities",e,b.merge({},d.config.headers,c.headers,h),g)}};return g}var c={headers:{},baseUrl:""},d={config:c,$get:["httpService","ubiservicesService","$log",a]};return d}b.module("ubiservices").provider("entitiesApiService",d)}(window,window.angular),function(a,b,c){"use strict";function d(){function a(a,d,e){function f(){return c._baseUrl||d.config.baseUrl}var g={config:c,getRelationships:function(e,g,h){return a.call("GET",f()+"/v2/profiles/me/friends",e,b.merge({},d.config.headers,c.headers,h),g)},sendInvite:function(e,g,h){return a.call("POST",f()+"/v2/profiles/me/friends",e,b.merge({},d.config.headers,c.headers,h),g)},acceptInvite:function(e,g,h){return a.call("PUT",f()+"/v2/profiles/me/friends/:friendPid",e,b.merge({},d.config.headers,c.headers,h),g)},clearRelationship:function(e,g,h){return a.call("DELETE",f()+"/v2/profiles/me/friends/:friendPid",e,b.merge({},d.config.headers,c.headers,h),g)}};return g}var c={headers:{},baseUrl:""},d={config:c,$get:["httpService","ubiservicesService","$log",a]};return d}b.module("ubiservices").provider("friendsApiService",d)}(window,window.angular),function(a,b,c){"use strict";function d(){function a(a,d,e){function f(){return c._baseUrl||d.config.baseUrl}var g={config:c,getProfile:function(e,g,h){return a.call("GET",f()+"/v2/profiles/:profileId",e,b.merge({},d.config.headers,c.headers,h),g)},search:function(e,g,h){return a.call("GET",f()+"/v2/profiles",e,b.merge({},d.config.headers,c.headers,h),g)},getSessionProfile:function(e,g,h){return a.call("GET",f()+"/v2/profiles/me",e,b.merge({},d.config.headers,c.headers,h),g)}};return g}var c={headers:{},baseUrl:""},d={config:c,$get:["httpService","ubiservicesService","$log",a]};return d}b.module("ubiservices").provider("profileApiService",d)}(window,window.angular),function(a,b,c){"use strict";function d(){var a=(b.injector(["ng"]).get("$log"),{_headers:{}});Object.defineProperty(a,"headers",{get:function(){return a._headers},set:function(b){a._headers=b}}),Object.defineProperty(a,"baseUrl",{get:function(){return a._baseUrl},set:function(b){a._baseUrl=b}});var c={config:a,$get:["$log",function(b){var c={config:a};return c}]};return c}b.module("ubiservices").provider("ubiservicesService",d)}(window,window.angular),function(a,b,c){"use strict";function d(){function a(a,d,e){function f(){return c._baseUrl||d.config.baseUrl}var g={config:c,getProfileActions:function(e,g,h){return a.call("GET",f()+"/v1/profiles/:profileId/actions",e,b.merge({},d.config.headers,c.headers,h),g)},postProfileActions:function(e,g,h){return a.call("POST",f()+"/v1/profiles/:profileId/actions",e,b.merge({},d.config.headers,c.headers,h),g)},getSpaceActions:function(e,g,h){return a.call("GET",f()+"/v1/spaces/:spaceId/actions",e,b.merge({},d.config.headers,c.headers,h),g)},getProfileRewards:function(e,g,h){return a.call("GET",f()+"/v1/profiles/:profileId/rewards",e,b.merge({},d.config.headers,c.headers,h),g)},postProfileRewards:function(e,g,h){return a.call("POST",f()+"/v1/profiles/:profileId/rewards",e,b.merge({},d.config.headers,c.headers,h),g)},getSpaceRewards:function(e,g,h){return a.call("GET",f()+"/v1/spaces/:spaceId/rewards",e,b.merge({},d.config.headers,c.headers,h),g)},getUplayProfileActions:function(e,g,h){return a.call("GET",f()+"/v1/profiles/:profileId/uplay/actions",e,b.merge({},d.config.headers,c.headers,h),g)},postUplayProfileActions:function(e,g,h){return a.call("POST",f()+"/v1/profiles/:profileId/uplay/actions",e,b.merge({},d.config.headers,c.headers,h),g)},getUplaySpaceActions:function(e,g,h){return a.call("GET",f()+"/v1/spaces/:spaceId/uplay/actions",e,b.merge({},d.config.headers,c.headers,h),g)},getUplayProfileRewards:function(e,g,h){return a.call("GET",f()+"/v1/profiles/:profileId/uplay/rewards",e,b.merge({},d.config.headers,c.headers,h),g)},postUplayProfileRewards:function(e,g,h){return a.call("POST",f()+"/v1/profiles/:profileId/uplay/rewards",e,b.merge({},d.config.headers,c.headers,h),g)},getUplaySpaceRewards:function(e,g,h){return a.call("GET",f()+"/v1/spaces/:spaceId/uplay/rewards",e,b.merge({},d.config.headers,c.headers,h),g)}};return g}var c={headers:{},baseUrl:""},d={config:c,$get:["httpService","ubiservicesService","$log",a]};return d}b.module("ubiservices").provider("uplaywinApiService",d)}(window,window.angular),function(a,b,c){"use strict";function d(){function a(a,d,e){function f(){return c._baseUrl||d.config.baseUrl}var g={config:c,getProfiles:function(e,g,h){return a.call("GET",f()+"/v2/users/:userId/profiles",e,b.merge({},d.config.headers,c.headers,h),g)}};return g}var c={headers:{},baseUrl:""},d={config:c,$get:["httpService","ubiservicesService","$log",a]};return d}b.module("ubiservices").provider("usersApiService",d)}(window,window.angular),function(a,b,c){"use strict";function d(a,c,d,e){b.injector(["ng"]).get("$log");c.config.headers["Ubi-AppId"]=a.appIds.g2w,d.config.baseUrl=a.ubiservices.baseUrl}d.$inject=["CONFIG","httpServiceProvider","ubiservicesServiceProvider","r6ServiceProvider"],b.module("data").config(d)}(window,window.angular),function(a,b,c,d){"use strict";function e(){var a=(b.injector(["ng"]).get("$log"),{_headers:{}});Object.defineProperty(a,"headers",{get:function(){return a._headers},set:function(b){a._headers=b}});var d={config:a,$get:["$http","$q","$log","parsersService",function(d,e,f,g){function h(a,c){var d=a.match(/([a-z]+\:\/\/)/);if(b.isUndefined(d)||d.length<=0)throw"Invalid url format: "+a;var e=d[1];a=a.replace(e,"");var f=j(a);return f=i(f,c),e+k(f)}function i(a,d){var e=[];return c.forEach(a,function(a){if(b.isDefined(a)&&""!==a&&0===a.indexOf(":")){var c=a.replace(":",""),f=d[c];delete d[c],a=f}e.push(a)}),e}function j(a){var d=a.split("/"),e=[];return c.forEach(d,function(a){b.isDefined(a)&&""!==a&&e.push(a)}),e}function k(a){var b=a.join("/");return b}var l={config:a,call:function(f,i,j,k,l){var m={method:f,url:h(i,j),headers:b.merge({},k,a.headers)};return"GET"===f?m.params=j||{}:m.data=j||{},e(function(a,e){d(m).then(function(d){var e;if(b.isDefined(l)&&c.isString(l)&&(e=g.defaults(l)),b.isDefined(l)&&c.isArray(l)&&l.length>0&&(e=l),b.isDefined(e)){var f;e.forEach(function(a){f=b.isDefined(f)?b.merge({},f,a(d.data,j)):a(d.data,j)}),a(f)}else a(d.data)},function(a){e(a)})})}};return l}]};return d}b.module("data").provider("httpService",e)}(window,window.angular,window._),function(a,b,c){"use strict";function d(a){var c=this;return b.extend(c,{"default":function(a){return function(b,c){return b[a]}},defaults:function(a){return[c["default"](a)]}})}d.$inject=["$log"],b.module("data").service("parsersService",d)}(window,window.angular),function(a,b,c){"use strict";function d(a,b,c){return{qSequence:function(a,d){var e,f;return _.isArray(a)?(e=[],f=a):(e={},f=_.toArray(a)),f.reduce(function(c,f,g,h){return c.then(function(c){return b(function(){return f.then(function(b){if(_.isArray(e))e.push(b);else{var c;_.forEach(a,function(a,b){a===f&&(c=b)}),e[c]=b}return e})},d)})},c.when(e))},splitParamerters:function(a,b){for(var c=[],d=a.length;d>0;){var e=_.take(a,b);a=_.slice(a,e.length),d=a.length,c.push(e)}return c}}}d.$inject=["$log","$timeout","$q"],b.module("data").service("dataUtilsService",d)}(window,window.angular),function(a,b,c){"use strict";var d={httpStatus:{requestTimeout:{code:408,message:"request timeout"},unauthorized:{code:401,message:"authentication is required and has failed"},badRequest:{code:400,message:"client error"},notFound:{code:404,message:"not found"},internal:{code:500,message:"internal Server Error"},insufficientStorage:{code:507,message:"Insufficient storage"},methodNotAllowed:{code:405,message:"Method Not Allowed"}}};b.module("errors").constant("ERRORS",d)}(window,window.angular),function(a,b,c,d){"use strict";function e(a,b,c,d){a.$on("$stateChangeError",function(a,b,e,f,g,h){d.warn("$stateChangeError",h),c.handleError(h)})}e.$inject=["$rootScope","$state","errorsService","$log"],b.module("errors").run(e)}(window,window.angular,window._),function(a,b,c){"use strict";function d(a,d,e,f,g){return{handleError:function(a){var f=!1;if(b.isUndefined(a))return!1;var g=a.code||a.status,h=a.redirection||{};h.params=h.params||{},h.options=h.options||{},h.reload===!0&&(h.options.reload=!0),a.redirection||(h.name=g?g.toString():c);var i=e.get(h.name);return b.isDefined(i)&&null!==i?(f=!0,a.handled=!0,d.debug("[errors.service]","redirection go",h),e.go(h.name,h.params,h.options).then(function(){b.isDefined(h.callback)&&h.callback()})):b.isDefined(a.callback)&&a.callback(),f},generateError:function(c,d,e,g){var h=b.copy(a.httpStatus[c]);if(b.isUndefined(h))throw new ReferenceError("The errorName '"+c+"' do not exist.");b.isDefined(d)&&(h.source=d),b.isDefined(e)&&(h.operation=e),g&&(h.redirection=g);var i=f.get("permissionsService");return h.userType=i.getUserType(),h}}}d.$inject=["ERRORS","$log","$state","$injector","rsMoleculeModalService"],b.module("errors").service("errorsService",d)}(window,window.angular),function(a,b,c,d){"use strict";function e(){var a=(b.injector(["ng"]).get("$log"),[]),d={};return{addListener:function(b,c,d){a.push({caller:b,eventName:c,callback:d})},$get:["$log","$rootScope",function(b,e){function f(a,b,f){d[b]||(d[b]=[]),d[b].push({caller:a,eventName:b,callback:f,cleanUpFn:e.$on(b,f)}),c.has(a,"$on")&&a.$on("$destroy",function(){g(a,b,f)})}function g(a,b,e){var f=d[b],g=[];f.forEach(function(c){c.caller===a&&c.eventName===b&&c.callback===e&&(g.push(c),c.cleanUpFn())}),c.remove(f,function(a){return!c.isUndefined(c.find(g,a))})}a.forEach(function(a){f(a.caller,a.eventName,a.callback)});var h={addListener:function(a,b,c){f(a,b,c)},removeListener:function(a,b,c){g(a,b,c)},dispatch:function(a,b,c){e.$broadcast(b,c)}};return h}]}}b.module("events").provider("eventsService",e)}(window,window.angular,window._),function(a,b,c){"use strict";function d(a,b){function c(){e.show=!0}function d(){e.show=!1}b.addClass("loading");var e=this,f=a.$on("loading.show",c),g=a.$on("loading.hide",d);a.$on("$destroy",function(){f(),g()})}function e(a,b,c,e){return{restrict:"E",replace:!0,transclude:!0,template:'<div ng-show="vm.show"><ng-transclude></ng-transclude></div>',controller:d,controllerAs:"vm",bindToController:!0}}d.$inject=["$scope","$element"],e.$inject=["$log","$compile","$window","$timeout"],b.module("loading").directive("loading",e)}(window,window.angular),function(a,b,c){"use strict";function d(a,b){b.$on("$stateChangeStart",function(){b.$broadcast("loading.show")}),b.$on("$stateChangeSuccess",function(){b.$broadcast("loading.hide")})}d.$inject=["$log","$rootScope"],b.module("loading").run(d)}(window,window.angular),function(a,b,c){"use strict";function d(a,b){a.debugEnabled("debug"===b.logLevel||"transport"===b.logLevel||"all"===b.logLevel)}d.$inject=["$logProvider","CONFIG"],b.module("log").config(d)}(window,window.angular),function(a,b,c){"use strict";var d={levels:["none","log","info","warn","error","debug","transport","all"]};b.module("log").constant("LOG",d)}(window,window.angular),function(a,b,c,d){"use strict";function e(a,b,d){a.decorator("$log",["$delegate",function(a){function e(a){var b=i.indexOf(h),c=i.indexOf(a);return b>=c}var f={},g={},h=d.logLevel,i=b.levels;i.indexOf(h)===-1&&(h=i[0]);for(var j in a){var k=a[j];a[j]=c.wrap(k,function(b){if(e(j)){var c=Array.prototype.slice.call(arguments,1);b.apply(a,c)}})}return a.transportRequest=function(b){if(e("transport")){var c=[].slice.call(arguments);c.unshift("transport"),a.debug.apply(null,c),a.time(b.url),a.count(b.url)}},a.transportResponse=function(b,c){if(e("transport")){var d=[].slice.call(arguments);d.unshift("transport"),a.debug.apply(null,d),a.timeEnd(b.url),a.countOk(b.url)}},a.transportError=function(b,c){if(e("transport")){var d=[].slice.call(arguments);d.unshift("transport"),a.debug.apply(null,d),a.timeEnd(b.url),a.countError(b.url)}},a.logGroup=function(){var a=[].slice.call(arguments),b=a.shift();console.groupCollapsed(b);for(var c in a)console.log(a[c]);console.groupEnd()},a.profile=function(a){console.profile(a)},a.profileEnd=function(a){console.profileEnd(a)},a.timeStamp=function(a){console.timeStamp(a)},a.trace=function(){console.trace(arguments)},a.time=function(a){console.time(a),g[a]||(g[a]={total:0,count:0,current:{}}),g[a].current.start=(new Date).getTime()},a.timeEnd=function(a){console.timeEnd(a),g[a]&&(g[a].current.end=(new Date).getTime(),g[a].count++,g[a].total+=g[a].current.end-g[a].current.start,g[a].avg=g[a].total/g[a].count)},a.count=function(a){console.count(a),f[a]=f[a]?f[a]+1:1},a.countOk=function(b){a.count(b+"-OK")},a.countError=function(b){a.count(b+"-ERROR")},a.countWarn=function(b){a.count(b+"-WARN")},a.stats=function(){a.statsCount(),a.statsTime()},a.statsCount=function(){console.groupCollapsed("count stats");for(var a in f)console.log(a,":",f[a]);console.groupEnd()},a.statsCountFlush=function(){f={}},a.statsTime=function(){console.groupCollapsed("time stats");for(var a in g)console.log(a,":",g[a].avg?g[a].avg+"ms":"-");console.groupEnd()},a.statsTimeFlush=function(){g={}},a}])}e.$inject=["$provide","LOG","CONFIG"],b.module("log").config(e)}(window,window.angular,window._),function(a,b,c){"use strict";function d(a,b){var c={request:function(a){return b.transportRequest(a),a},requestError:function(b){return a.reject(b)},response:function(a){return b.transportResponse(a.config,a),a},responseError:function(c){return b.transportError(c.config,c),a.reject(c)}};return c}function e(a){a.interceptors.push("debugInterceptor")}d.$inject=["$q","$log"],e.$inject=["$httpProvider"],b.module("log").factory("debugInterceptor",d),b.module("log").config(e)}(window,window.angular),function(a,b,c){"use strict";function d(a,c,d,e,f){function g(){var a,f,g=c.defer(),j=d.next,k=d.toParams;b.isDefined(j)&&b.isDefined(j.data)&&b.isDefined(j.data.permissions)&&(a=j.data.permissions,f=a.redirection[h],f&&(f.params=d.toParams||{}));var l;return a&&(a.except&&a.except.indexOf(h)!==-1&&(l=e.generateError("unauthorized","permissions.service","isUserAllowed",f)),a.only&&a.only.indexOf(h)===-1&&(l=e.generateError("unauthorized","permissions.service","isUserAllowed",f))),b.isUndefined(l)?g.resolve():(i={name:j.name,params:k},g.reject(l)),g.promise}var h,i;return{getRejectedState:function(){return i},setUserType:function(a){h=a},getUserType:function(){return h},isUserAllowed:function(){return g()}}}d.$inject=["$log","$q","$state","errorsService","rsMoleculeModalService"],b.module("permissions").service("permissionsService",d)}(window,window.angular),function(a,b,c){"use strict";function d(a,b,c){a.html5Mode(!0),b.strictMode(!1),c.decorator("$state",["$delegate","$rootScope",function(a,b){return b.$on("$stateChangeStart",function(b,c,d){a.next=c,a.toParams=d}),a}])}d.$inject=["$locationProvider","$urlMatcherFactoryProvider","$provide"],b.module("g2w.router").config(d)}(window,window.angular),function(a,b,c,d){"use strict";function e(a,b,c,d,e,f,g){function h(){var a=e.parseSessionSync();return g.setUserId(a.userId),f.setUserType("player"),c.config.headers["Ubi-SessionId"]=a.id,c.config.headers.Authorization="Ubi_v1 t="+a.ticket,b.when()}function i(a){return g.setCustomDimension("dataPlatform",a.autoPlatform),b.when(a)}return a.info("[index.config]","*resolve*","session"),f.setUserType("anonymous"),g.setCustomDimension("appVersion",d),e.init().then(e.getTicket).then(h).then(e.getProfiles).then(e.getEntity).then(e.getApplications).then(e.parseSession).then(i)["catch"](function(b){a.info("[index.config]","session resolve",b);var c="uplay.connect.service"===b.source&&"getTicket"===b.operation,d="index.session.service"===b.source&&"getProfiles"===b.operation;(c||d)&&f.setUserType("anonymous")})}function f(a,b,c){return b.info("[index.config]","*resolve*","locale"),c.initSession(a).then(c.init).then(c.redirect).then(c.parseLocalizationData)}function g(a,b,c,d){return c.info("[index.config]","*resolve*","platform"),d.initSession(b).then(d.init).then(d.redirect).then(d.parsePlatform)}function h(a,b,c,d,e){return a.info("[index.config]","sessionPlatformProfileResolve"),e.getPlatformProfile()}function i(a,b,c,d){d.setPlatformType(b.type)}function j(a,b,c){return c.getFile("assets/data/seasons.11bfe9f0.json")}function k(a,b,c,d){return d.init(a.userId,b.type)}function l(a,d){d.when("/",["$injector",function(a){var b=a.get("localizationService"),c="/"+b.getUrlLocale();return c}]),a.state("root",{url:"","abstract":!0,templateUrl:"assets/tpl/root.tpl.html",controller:"indexController",controllerAs:"indexCtrl",resolve:{tagCommander:["tagCommanderService",function(a){return a.reset()}],session:e,seasons:j}}).state("locale",{parent:"root",url:"/:locale","abstract":!0,views:{"header@root":{templateUrl:"assets/tpl/header.tpl.html"},footer:{templateUrl:"assets/tpl/footer.tpl.html"}},resolve:{locale:f}}).state("platform",{parent:"locale",url:"/:platform","abstract":!0,views:{"header@root":{templateUrl:"assets/tpl/header.tpl.html"}},resolve:{isAllowed:["locale","permissionsService",function(a,b){return b.isUserAllowed()}],platform:g,sessionPlatformProfile:h,rdvServicesConfig:i,tagCommander:["session","rdvServicesConfig","tagCommanderService",function(a,b,c){return c.init(a)}],watchlist:k,action:["platform","platformsService","notificationsService","googleAnalyticsService",function(a,d,e,f){d.processActions().then(function(a){var d=c.find(a.actions,{id:"10"});return b.isDefined(d)&&d.isJustCompleted&&(e.add("assets/tpl/components/notification.action.club.tpl.html",{stat:d.name,image:d.image}),f.sendEvent("uplayAction")),a})}]}})}e.$inject=["$log","$q","httpService","VERSION","sessionService","permissionsService","googleAnalyticsService"],j.$inject=["session","$q","contentService"],f.$inject=["session","$log","localizationService"],g.$inject=["isAllowed","session","$log","platformsService"],h.$inject=["$log","session","locale","platform","platformsService"],i.$inject=["session","platform","sessionPlatformProfile","rdvConfigService"],k.$inject=["session","platform","rdvServicesConfig","watchlistService"],l.$inject=["$stateProvider","$urlRouterProvider"],b.module("g2w.index").config(l)}(window,window.angular,window._),function(a,b,c){"use strict";var d={defaultStateName:"playerstatistics.multiplayer"};b.module("g2w.index").constant("INDEX",d)}(window,window.angular),function(a,b,c,d){"use strict";function e(d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){function y(){C.watchlist.isLoading=u.getIsLoading()}function z(){g.params.locale&&(C.langClass="lang-"+g.params.locale);var a=m.parseSessionSync(),e=o.parsePlatformSync(),f=n.parseLocalizationSync();if(C.localeCode=f.code,C.logged=b.isDefined(a.id),C.username="",C.avatarUrl="",b.isDefined(e)&&b.isDefined(e.type)&&(C.platform=b.copy(e.type)),c.isEmpty(a)?D.myStats.state="playerstatistics":D.myStats.state='playerstatistics({userId:"'+a.userId+'"})',d.debug("[index.service]","platform",C.platform),C.logged){C.headerNavigation.secondary=[D.search,D.watchlist],C.sideNavigation.secondary=[D.logout];var h;h=b.isDefined(e)&&b.isDefined(e.type)?a.profiles[e.type]:a.profiles.uplay,b.isUndefined(h)&&(h=c.head(c.toArray(a.profiles))),
b.isDefined(h)&&(C.username=h.username,C.avatarUrl=h.avatar.smallUrl)}else C.headerNavigation.secondary=[],C.sideNavigation.secondary=[]}function A(a){r.closeModal(),g.go(k.defaultStateName,{userId:a}),x.sendEvent("searchViewProfile")}function B(){w.closePanel("main"),r.closeModal()}var C=this,D={myStats:{oasisId:"200285",state:"playerstatistics",icon:"common-stat"},news:{oasisId:"201184",href:"http://rainbow6.ubi.com/",icon:"common-info"},fix:{oasisId:"295188",href:"https://r6fix.ubi.com/"},academy:{oasisId:"295189",href:"https://r6academy.ubi.com/"},status:{oasisId:"295049",href:"http://rainbow6.com/status"},search:{oasisId:"201069","class":["search"],click:function(){var a={searchPlayer:C.searchPlayer,viewProfile:C.viewProfile},b={platform:C.platform};r.openModal({rsMoleculeModal:"assets/tpl/components/search.player.modal.tpl.html",rsPropCloseOnBackdropClick:!0,rsPropModalTitle:201069,rsFnActions:a,rsPropData:b}),x.sendEvent("headerSearch")},icon:"action-search"},watchlist:{oasisId:"202290","class":["watchlist"],click:function(){u.load(),C.watchlist.isLoading=u.getIsLoading(),w.togglePanel("main","right"),x.sendEvent("showWatchlist")},icon:"action-watchlist"},logout:{oasisId:"57921",click:function(){B(),C.logout()},icon:"action-logout"}};f.$on("offcanvas",function(a,b,c,d){if("main"===b&&"right"===c)if(d)D.watchlist["class"].push("active");else{var e=D.watchlist["class"].indexOf("active");D.watchlist["class"].splice(e,1)}}),C.uplayIframeUrl=s.getUplayIframeUrl(),f.$on("$translateChangeSuccess",function(a,b){C.uplayIframeUrl=s.getUplayIframeUrl()}),C.logged=!1,C.username="",C.avatarUrl="",C.appVersion="v"+l,C.platformList=j.platforms,C.headerNavigation={main:[D.myStats,D.news,D.fix,D.academy,D.status],secondary:[]},C.sideNavigation={main:[D.myStats,D.news,D.fix,D.academy,D.status],secondary:[]},C.notificationList=t.list,C.watchlist={},C.watchlist.watchedPlayers=u.list,C.watchlist.importFriends=u.importFriends,C.watchlist.isLoading=u.getIsLoading(),C.watchlist.maxPlayer=u.getMaxPlayer();f.$on("watchlist.changed",y);if(f.$on("$stateChangeSuccess",function(a,b,c,d,e){z()}),z(),b.isUndefined(a.location.origin)){var E=a.location.protocol,F=a.location.hostname,G=a.location.port?":"+a.location.port:"";a.location.origin=E+"//"+F+G}return b.extend(C,{messup:function(){i.config.headers.Authorization+="-666",m.init(),s.reset()},login:function(){console.log("login")},logout:function(){s.logout().then(function(){t.reset(),u.reset(),v.reset(),g.go("home",null,{reload:!0})},function(){g.go("home",null,{reload:!0})})},toggleNavigation:function(){w.togglePanel("main","left")},navigateHome:function(){var a=m.parseSessionSync();b.isDefined(a)?g.go("playerstatistics",{userId:a.userId}):g.go("home")},navigateProfile:function(){var a=m.parseSessionSync();g.go("playerstatistics",{userId:a.userId})},changePlatform:function(a){B(),g.go(g.current.name,{platform:a})},viewProfile:A,searchPlayer:function(a){return p.search(a)},addFriend:function(a){return q.sendInvite({friends:[a]})},removeFriend:function(a){return q.clearRelationship({friendPid:a})},localeChanged:function(a){function c(){var c=e.get("$stateParams"),d=g.current.name,f=b.copy(c);f.locale=a,g.go(d,f)}C.logged?v.updateProperty("web.user.profile","languageCode",a).then(c,c):c()}})}e.$inject=["$log","$injector","$scope","$state","seasons","httpService","CONFIG","INDEX","VERSION","sessionService","localizationService","platformsService","searchService","friendsApiService","rsMoleculeModalService","uplayConnectService","notificationsService","watchlistService","entitiesService","rsLayoutOffcanvasService","googleAnalyticsService"],b.module("g2w.index").controller("indexController",e)}(window,window.angular,window._),function(a,b,c){"use strict";function d(a,b){a.$on("$stateChangeSuccess",function(){b[0].scrollTop=0})}function e(){return{restrict:"A",controller:d}}d.$inject=["$rootScope","$element"],b.module("g2w.index").directive("forceScrollTop",e)}(window,window.angular),function(a,b,c){"use strict";function d(a,c,d,e,f,g,h,i){e.setRedirectLogin(function(){f.closeModal(),h.sendClickEvent("Rainbow 6 G2W - Login");var a=g.getRejectedState();b.isDefined(a)?c.go(a.name,a.params,{reload:!0}):c.go(d.defaultStateName,{},{reload:!0})}),a.$on("$stateChangeSuccess",function(){i.closePanel("main")})}d.$inject=["$rootScope","$state","INDEX","uplayConnectService","rsMoleculeModalService","permissionsService","tagCommanderService","rsLayoutOffcanvasService"],b.module("g2w.index").run(d)}(window,window.angular),function(a,b,c){"use strict";var d={noData:"NO DATA"};b.module("g2w.resolve").constant("SESSION",d)}(window,window.angular),function(a,b,c){"use strict";function d(a,c,d,e,f,g,h,i,j){function k(){return c.info("[localization.service]","parseLocalizationData"),l}var l,m,n;return{getUrlLocale:function(){var c,d=a.get("$translate"),e=a.get("$location"),f=e.$$path,g=f.match(/([a-z]{2}?([-][a-z]{2,}|))/gm);return b.isDefined(g)&&null!==g&&g.length>=1&&(c=d.negotiateLocale(g[0])),b.isUndefined(c)&&(c=d.determinePreferredLanguage()),c},initSession:function(a){return c.info("[localization.service]","initSession",a),l={},l.session=a,d.when(a)},init:function(){l=l||{};var a=l.session;m=e.next,n=e.toParams;var f,g;b.isDefined(a)&&b.isDefined(a.entity)&&(g=a.entity.obj.languageCode);var h=n.locale.toLowerCase(),i=j.determinePreferredLanguage();return c.info("[localization.service]","init","entityLocale",g,"stateLocale",h,"defaultLocale",i),(b.isUndefined(h)||""===h)&&(f=j.negotiateLocale(g)),b.isUndefined(f)&&b.isDefined(h)&&(f=j.negotiateLocale(h)),b.isUndefined(f)&&(f=j.negotiateLocale(i)),c.info("[localization.service]","init","targetLocaleCode",f),l.code=f,d.when(l)},parseLocalizationSync:function(){return k()},parseLocalization:function(){return d.when(k())},redirect:function(){return d(function(a,b){n.locale!==l.code?(n.locale=l.code,c.info("[localization.service]","*resolve*","locale redirect"),b(h.generateError("badRequest","localization.service","redirect",{name:m.name,params:n,reload:!0}))):(c.info("[localization.service]","*resolve*","set localization"),j.use(l.code).then(function(){a(l)}))})}}}d.$inject=["$injector","$log","$q","$state","$stateParams","$timeout","errorsService","CONFIG","$translate"],b.module("g2w.resolve").service("localizationService",d)}(window,window.angular),function(a,b,c,d){"use strict";function e(a,d,e,f,g,h,i,j,k,l,m){function n(a){var c=s[0];for(var d in a){var e=a[d];b.isDefined(e.isLatestPlayed)&&(c=d)}return c}function o(){a.info("[platform.service]","parseData",p);var c={};return b.isDefined(p)&&b.isDefined(p.type)&&(c.type=p.type),c}var p,q,r,s=i.platforms;return{getUrlPlatform:function(){var a,c=d.get("$location"),e=c.$$path,f=e.match(/(([a-z]{2}-[a-z]{2,})\/(psn|uplay|xbl))/);return b.isDefined(f)&&null!==f&&f.length>=1&&(a=f[3]),a},getPlatformProfile:function(){var c=p.session.profiles[p.type];return b.isUndefined(c)&&(c=b.copy(p.session.profiles.uplay),delete c.profileId),a.info("[platforms.service]","getPlatformProfile",c),e.when(c)},initSession:function(b){return a.info("[platforms.service]","initSession",b),p={},p.session=b,e.when(b)},init:function(){return e(function(c,d){p=p||{},q=f.next,r=f.toParams;var e=r.platform;s.indexOf(e)!==-1?p.type=e:b.isDefined(p)&&b.isDefined(p.session)&&(p.type=n(p.session.profiles)),a.info("[platform.service]","init",p.type),c(p)})},redirect:function(){return e(function(b,c){r.platform!==p.type?(r.platform=p.type,a.info("[platforms.service]","*resolve*","platform redirect"),c(m.generateError("badRequest","platforms.service","redirect",{name:q.name,params:r,reload:!0}))):b(p)})},parsePlatformSync:function(){return o()},parsePlatform:function(){return e.when(o())},processActions:function(){function a(){var a={profileId:n.userId,spaceId:m,locale:h.use()};return k.getUplayProfileActions(a)}function d(a){p.uplayActions=l.actionList(a.actions);var b=p.uplayActions;g.actions=b;var d=0,f=c.filter(b,{isAvailable:!0,isCompleted:!0,isBadge:!1}),h=c.filter(b,{isAvailable:!0,isBadge:!1});return d=f.length/h.length*100,e.when(g)}function f(){if(b.isUndefined(g.actions))return e.when(g);var a=c.find(g.actions,{id:o});return b.isUndefined(a)?e.when(g):a.isAvailable&&!a.isCompleted?e(function(b,c){var d={profileId:p.session.userId,id:o,spaceId:m};k.postUplayProfileActions(d).then(function(){a.isJustCompleted=!0,b(g)},function(){b(g)})}):e.when(g)}var g={type:p.type},j=p.type,m=i.spaceIds[j],n=p.session.profiles[j],o="10";return b.isUndefined(n)?e.when(g):a().then(d).then(f)["catch"]()}}}e.$inject=["$log","$injector","$q","$state","$timeout","$translate","CONFIG","entitiesApiService","uplaywinApiService","uplaywinParserService","errorsService"],b.module("g2w.resolve").service("platformsService",e)}(window,window.angular,window._),function(a,b,c,d){"use strict";function e(a,d,e,f,g,h,i,j,k,l,m,n){function o(c){var d;return b.isDefined(c)&&c.forEach(function(a){if(b.isUndefined(d))d=a;else{var c=new Date(a.lastSessionDate),e=new Date(d.lastSessionDate),f=c>e;f&&(d=a)}}),a.info("[session.service]","_latestApplication",d),d}function p(){var d,e=o(q.applications,q.profiles),g={};c.forEach(q.profiles,function(a,c){r.indexOf(c)!==-1&&(g[c]=b.copy(a),b.isDefined(e)&&g[c].profileId===e.profileId&&(g[c].isLatestPlayed=!0,d=c))}),d||(d=f.noData);var h={};return b.isDefined(q)&&b.isDefined(q.session)&&(h={userId:q.session.user_id,id:q.session.sessionId,ticket:q.session.ticket,profiles:g,userType:"player",entity:q.entitiy,autoPlatform:d}),a.info("[session.service]","parseSessionData",h),h}var q,r=e.platforms;return{init:function(){return q={},h.init(e.appIds.g2w)},getTicket:function(){return h.getTicket().then(function(a){q.session=a})},getProfiles:function(){return k.getProfiles({userId:q.session.user_id},[m.byPlatform]).then(function(b){return a.info("[session.service]","getProfiles",b),q.profiles=b,q},function(b){return a.warn("[session.service]","getProfiles",b),d.reject(g.generateError("internal","index.session.service","getProfiles"))})},getEntity:function(){return a.info("[session.service]","getEntities"),n.init(q.session.user_id).then(function(b){a.info("[session.service]","getEntities done",b),q.entity=n.getProperty("web.user.profile")})},getApplications:function(){var d,f=[],g=c.mapValues(q.profiles,"profileId"),h=[];for(d in e.appIds)r.indexOf(d)!==-1&&(h.push(e.appIds[d]),b.isDefined(g[d])&&f.push(g[d]));return l.getProfileApplicationsByProfileList({profileIds:f.join(","),applicationIds:h.join(",")}).then(function(b){a.info("[session.service]","getApplications",b),q.applications=b.applications},function(b){return a.warn("[session.service]","getApplications",b),{}})},parseSessionSync:function(){return p()},parseSession:function(){return d.when(p())}}}e.$inject=["$log","$q","CONFIG","SESSION","errorsService","uplayConnectService","parsersService","profileApiService","usersApiService","applicationusedApiService","profileParserService","entitiesService"],b.module("g2w.resolve").service("sessionService",e)}(window,window.angular,window._),function(a,b,c,d){"use strict";function e(a,b,c,d,e,f){return a(function(a,c){var d=e.toParams.code;switch(d){case"404":a();break;case"500":a();break;default:c(b.generateError("notFound","errors.config","resolve",{params:e.toParams}))}})}function f(a,b,c,d,f,g){return e(a,b,c,d,f,g)}function g(a,b,c,d,f,g,h){return e(a,b,c,d,f,g)}function h(a,b){a.otherwise(function(a){var b=a.get("$state"),c=(a.get("$stateParams"),a.get("platformsService")),d=a.get("localizationService"),e=b.toParams||{};e.locale=e.locale||d.getUrlLocale(),e.platform=e.platform||c.getUrlPlatform(),e.code=404,b.go("errorsLogged",e)}),b.state("errors",{parent:"locale",url:"/errors/:code",data:{permissions:{only:["anonymous"],redirection:{player:{name:"errorsLogged"}}}},views:{"section@root":{templateUrl:"assets/tpl/errors.tpl.html",controller:"errorController",controllerAs:"vm"}},resolve:{isAllowed:["session","permissionsService",function(a,b){return b.isUserAllowed()}],error:f}}).state("errorsLogged",{parent:"platform",url:"/errors/:code",data:{permissions:{only:["player"],redirection:{anonymous:{name:"errors"}}}},views:{"section@root":{templateUrl:"assets/tpl/errors.tpl.html",controller:"errorController",controllerAs:"vm"}},resolve:{error:g}})}f.$inject=["$q","errorsService","session","locale","$state","isAllowed"],g.$inject=["$q","errorsService","session","locale","$state","isAllowed","tagCommander"],h.$inject=["$urlRouterProvider","$stateProvider"],b.module("g2w.section.errors").config(h)}(window,window.angular,window._),function(a,b,c){"use strict";function d(a,c,d,e){function f(a,c){var d="playerstatistics";b.isDefined(a)&&(d='playerstatistics({userId:"'+a.userId+'"})');var e=[{oasisId:"193807",uiSref:d,hasSession:!0},{oasisId:"193808",href:"http://forums.ubi.com/forumdisplay.php/717-Rainbow-Six-Siege",hasSession:!1}],f=[];return _.forEach(e,function(b){(!b.hasSession||a&&"player"===a.userType)&&f.push(b)}),f}var g=this,h=c.code;switch(h){case"404":g.code=404,g.title="193804",g.message="175764",g.links=f(d,e);break;case"500":g.code=500,g.title="194970",g.message="194944",g.links=f(d,e)}}d.$inject=["$log","$stateParams","session","locale"],b.module("g2w.section.errors").controller("errorController",d)}(window,window.angular),function(a,b,c,d){"use strict";function e(a,b){a.decorator("errorsService",["$delegate",function(a){var b=a.generateError;return a.generateError=function(a,c,d,e){var f=b(a,c,d,e);return"internal"!==a&&"notFound"!==a||("internal"===a&&(f.code=500),"notFound"===a&&(f.code=404),f.redirection=f.redirection||{},"anonymous"===f.userType?(f.redirection.name="errors",f.redirection.params=f.redirection.params||{},f.redirection.params.code=f.code):(f.redirection.name="errorsLogged",f.redirection.params=f.redirection.params||{},f.redirection.params.code=f.code)),f},a}])}e.$inject=["$provide","$injector"],b.module("g2w.section.errors").config(e)}(window,window.angular,window._),function(a,b,c){"use strict";function d(a,c,d){var e={responseError:function(c){return b.isDefined(c.data)&&[401,403].indexOf(c.data.httpCode)>=0&&(d.get("uplayConnectService").reset(),d.get("sessionService").init(),d.get("permissionsService").setUserType("anonymous"),d.get("notificationsService").reset(),d.get("watchlistService").reset(),d.get("entitiesService").reset(),c.redirection={name:d.get("$state").next.name,params:d.get("$state").toParams,reload:!0},d.get("errorsService").handleError(c)),a.reject(c)}};return e}function e(a){a.interceptors.push("errorInterceptor")}d.$inject=["$q","$log","$injector"],e.$inject=["$httpProvider"],b.module("g2w.section.errors").factory("errorInterceptor",d).config(e)}(window,window.angular),function(a,b,c){"use strict";function d(a,b,c,d){b.when("/:locale",["$injector",function(a){var b,c=a.get("$state"),d=a.get("localizationService");return b=c.next&&"home"!==c.next.name?c.href(c.next,c.toParams):"/"+d.getUrlLocale()+"/home"}]),a.state("home",{parent:"locale",url:"/home",views:{"section@root":{templateUrl:"assets/tpl/home.tpl.html"}},data:{permissions:{only:["anonymous"],redirection:{player:{name:d.defaultStateName}}},tagCommander:{pageName:"G2W Homepage",sectionName:"Home pages"}},resolve:{isAllowed:["session","permissionsService",function(a,b){return b.isUserAllowed()}]}})}d.$inject=["$stateProvider","$urlRouterProvider","$translateProvider","INDEX"],b.module("g2w.section.home").config(d)}(window,window.angular),function(a,b,c,d){"use strict";function e(a,c,d,e,f,g){return f(function(c,f){var h,i,j=b.copy(e),k=b.copy(d.toParams);b.isDefined(k.userId)?(h=k.userId,i=k):b.isDefined(j.userId)&&(h=j.userId,i=j),b.isUndefined(h)||""===h?(i.userId=a.userId,f(g.generateError("badRequest","playerstatistics.service","userIdResolve",{name:"playerstatistics.multiplayer",params:i,reload:!0}))):c(h)})}function f(a,c,e,f,g,h,i,j,k){if(i.info("[playerstatistics.config]","getPlayerProfile"),c.userId===a){i.info("[playerstatistics.config]","getPlayerProfile",f);var l=b.copy(f);return l.isMyProfile=!0,j.when(l)}return j(function(c,f){g.search({userId:a},[h.search]).then(function(a){var f=a&&a.length>0?a[0][e.type]:d;i.info("[playerstatistics.config]","playerStatisticsProfileResolve",f),b.isUndefined(f)&&(f=b.copy(a[0].uplay),delete f.profileId),c(f)},function(a){a.handled||f(k.generateError("notFound","playerstatistics.service","playerPlatformProfile"))})})}function g(a,b,c,d,e){return c.all({profile:d.getProfileProgression(b.profileId),rank:d.getProfileRank(b.profileId)}).then(function(c){return b.userId===a.userId&&e.setCustomDimension("userClearance",c.profile.level),c})}function h(a,b,c){return b.all({operators:c.getFile("assets/data/operators.a45bd7c1.json"),weapons:c.getFile("assets/data/weapons.8a9b3d9e.json")})}function i(a,b,c,d){var e=c.next,f={"playerstatistics.multiplayer":"pvp","playerstatistics.terrohunt":"pve"},g=f[e.name];return b.all({operators:d.mergeOperatorSchema(g,a.operators),weapons:d.mergeWeaponsSchema(g,a.weapons),main:d.getSchema("main",g),secondary:d.getSchema("secondary",g),modes:d.getSchema("modes",g)})}function j(a,b,c,d){var e=b.profileId;return c.all({operators:d.getStatistics(a.operators,e),weapons:d.getStatistics(a.weapons,e),main:d.getStatistics(a.main,e),secondary:d.getStatistics(a.secondary,e),modes:d.getStatistics(a.modes,e)})}function k(a,b){b.when("/:locale/:platform/player-statistics","/:locale/:platform/player-statistics/:userId/multiplayer"),b.when("/:locale/:platform/player-statistics/:userId","/:locale/:platform/player-statistics/:userId/multiplayer"),a.state("playerstatistics",{parent:"platform",url:"/player-statistics/:userId",views:{"section@root":{templateUrl:"assets/tpl/playerstatistics.tpl.html"}},data:{permissions:{only:["player"],redirection:{anonymous:{name:"home"}}}},resolve:{userId:e,playerProfile:f,playerProgression:g,contentSchema:h}}).state("playerstatistics.multiplayer",{url:"/multiplayer",views:{playerstatisticsView:{templateUrl:"assets/tpl/playerstatistics.tab.tpl.html",controller:"playerstatisticsController",controllerAs:"vm"}},data:{permissions:{only:["player"],redirection:{anonymous:{name:"home"}}},tagCommander:{pageName:"Overview",sectionName:"Multiplayer"}},resolve:{schema:i,statistics:j}}).state("playerstatistics.terrohunt",{url:"/terrohunt",views:{playerstatisticsView:{templateUrl:"assets/tpl/playerstatistics.tab.tpl.html",controller:"playerstatisticsController",controllerAs:"vm"}},data:{permissions:{only:["player"],redirection:{anonymous:{name:"home"}}},tagCommander:{pageName:"Overview",sectionName:"Terrorists Hunt"}},resolve:{schema:i,statistics:j}})}e.$inject=["session","tagCommander","$state","$stateParams","$q","errorsService"],f.$inject=["userId","session","platform","sessionPlatformProfile","profileApiService","profileParserService","$log","$q","errorsService"],g.$inject=["session","playerProfile","$q","progressionService","googleAnalyticsService"],h.$inject=["playerProgression","$q","contentService"],i.$inject=["contentSchema","$q","$state","playerstatisticsService"],j.$inject=["schema","playerProfile","$q","playerstatisticsService"],k.$inject=["$stateProvider","$urlRouterProvider"],b.module("g2w.section.playerstatistics").config(k)}(window,window.angular,window._),function(a,b,c){"use strict";function d(a){var c=[{statisticId:"weapontype"+a+"_kills"},{statisticId:"weapontype"+a+"_headshot"},{statisticId:"weapontype"+a+"_bulletfired"},{statisticId:"weapontype"+a+"_bullethit"},{statisticId:"custom_weapontype"+a+"_accuracy"}];return{name:{oasisId:193829},weaponsList:[{id:"AssaultRifle",icon:"wcat-ar",statistics:b.copy(c)},{id:"SMG",icon:"wcat-smg",statistics:b.copy(c)},{id:"LMG",icon:"wcat-lmg",statistics:b.copy(c)},{id:"Sniper",icon:"wcat-sniper",statistics:b.copy(c)},{id:"Pistol",icon:"wcat-hg",statistics:b.copy(c)},{id:"Shotgun",icon:"wcat-sg",statistics:b.copy(c)},{id:"MachinePistol",icon:"wcat-mp",statistics:b.copy(c)}]}}function e(a){return{time:{statisticId:"general"+a+"_timeplayed"},matches:{statisticId:"general"+a+"_matchplayed"},performance:{label:{oasisId:201678},data:[{statisticId:"general"+a+"_killassists"},{statisticId:"general"+a+"_revive"},{statisticId:"general"+a+"_headshot"},{statisticId:"general"+a+"_penetrationkills"},{statisticId:"general"+a+"_meleekills"}]},win:{main:{statisticId:"general"+a+"_matchwon"},second:{statisticId:"general"+a+"_matchlost"},label:{oasisId:190607},icon:"stat-match"},kill:{main:{statisticId:"general"+a+"_kills"},second:{statisticId:"general"+a+"_death"},label:{oasisId:191686},icon:"stat-killdeath"},accuracy:{main:{statisticId:"general"+a+"_bullethit"},second:{statisticId:"general"+a+"_bulletfired"},label:{oasisId:191202},icon:"stat-accuracy"}}}function f(a){return{statistics:[{statisticId:"operator"+a+"_timeplayed"},{statisticId:"custom_operator"+a+"_wlratio"},{statisticId:"custom_operator"+a+"_kdratio"}]}}var g={pvp:{main:e("pvp"),secondary:{casual:{label:{oasisId:192624},data:[{statisticId:"casualpvp_timeplayed"},{statisticId:"casualpvp_matchwon"},{statisticId:"casualpvp_matchlost"},{statisticId:"casualpvp_matchplayed"},{statisticId:"custom_casualpvp_kdratio"},{statisticId:"casualpvp_kills"},{statisticId:"casualpvp_death"}],win:{main:{statisticId:"casualpvp_matchwon"},second:{statisticId:"casualpvp_matchlost"},label:{oasisId:190607},icon:"stat-match"}},ranked:{label:{oasisId:192623},win:{main:{statisticId:"rankedpvp_matchwon"},second:{statisticId:"rankedpvp_matchlost"},label:{oasisId:190607},icon:"stat-match"},data:[{statisticId:"rankedpvp_timeplayed"},{statisticId:"rankedpvp_matchwon"},{statisticId:"rankedpvp_matchlost"},{statisticId:"rankedpvp_matchplayed"},{statisticId:"custom_rankedpvp_kdratio"},{statisticId:"rankedpvp_kills"},{statisticId:"rankedpvp_death"}]}},modes:{name:{oasisId:205577},weaponsList:[{name:{oasisId:205574},statistics:[{statisticId:"secureareapvp_matchwon"},{statisticId:"secureareapvp_matchlost"},{statisticId:"custom_secureareapvp_wlratio"},{statisticId:"secureareapvp_matchplayed"},{statisticId:"secureareapvp_bestscore"}]},{name:{oasisId:205575},statistics:[{statisticId:"rescuehostagepvp_matchwon"},{statisticId:"rescuehostagepvp_matchlost"},{statisticId:"custom_rescuehostagepvp_wlratio"},{statisticId:"rescuehostagepvp_matchplayed"},{statisticId:"rescuehostagepvp_bestscore"}]},{name:{oasisId:205576},statistics:[{statisticId:"plantbombpvp_matchwon"},{statisticId:"plantbombpvp_matchlost"},{statisticId:"custom_plantbombpvp_wlratio"},{statisticId:"plantbombpvp_matchplayed"},{statisticId:"plantbombpvp_bestscore"}]}]},operators:f("pvp"),weapons:d("pvp")},pve:{main:e("pve"),secondary:{casual:{label:{oasisId:192630},data:[{statisticId:"allterrohuntcoop_normal_bestscore"},{statisticId:"allterrohuntcoop_hard_bestscore"},{statisticId:"allterrohuntcoop_realistic_bestscore"}]},ranked:{label:{oasisId:192637},data:[{statisticId:"allterrohuntsolo_normal_bestscore"},{statisticId:"allterrohuntsolo_hard_bestscore"},{statisticId:"allterrohuntsolo_realistic_bestscore"}]}},modes:{name:{oasisId:205577},weaponsList:[{name:{oasisId:192618},statistics:[{statisticId:"plantbombpve_matchwon"},{statisticId:"plantbombpve_matchlost"},{statisticId:"custom_plantbombpve_wlratio"},{statisticId:"plantbombpve_matchplayed"},{statisticId:"plantbombpve_bestscore"}]},{name:{oasisId:192619},statistics:[{statisticId:"rescuehostagepve_matchwon"},{statisticId:"rescuehostagepve_matchlost"},{statisticId:"custom_rescuehostagepve_wlratio"},{statisticId:"rescuehostagepve_matchplayed"},{statisticId:"rescuehostagepve_bestscore"}]},{name:{oasisId:192620},statistics:[{statisticId:"protecthostagepve_matchwon"},{statisticId:"protecthostagepve_matchlost"},{statisticId:"custom_protecthostagepve_wlratio"},{statisticId:"protecthostagepve_matchplayed"},{statisticId:"protecthostagepve_bestscore"}]},{name:{oasisId:192621},statistics:[{statisticId:"terrohuntclassicpve_matchwon"},{statisticId:"terrohuntclassicpve_matchlost"},{statisticId:"custom_terrohuntclassicpve_wlratio"},{statisticId:"terrohuntclassicpve_matchplayed"},{statisticId:"terrohuntclassicpve_bestscore"}]}]},operators:f("pve"),weapons:d("pve")}};b.module("g2w.section.playerstatistics").constant("PLAYERSTATISTICS",g)}(window,window.angular),function(a,b,c){"use strict";function d(a,c,d,e,f,g,h,i,j){var k=this;k.navigation=[{uiSref:"playerstatistics.multiplayer",label:g("translate")("200286")},{uiSref:"playerstatistics.terrohunt",label:g("translate")("200287")}],k.background=c.seasons[c.latestSeason].background,k.isNoData=b.isUndefined(d.main.time.value)||0===d.main.time.value,k.isMyProfile=a.userId===f.userId,k.platformList=j.platforms,k.currentPlatform=f.platformType,k.playerIdentity=i.parseIdentity(a,f,e),k.main=b.copy(d.main),k.secondary=b.copy(d.secondary),k.modes=b.copy(i.parseModes(d.modes)),k.operators=b.copy(i.parseOperators(d.operators)),k.mostUsedOperators={attacker:b.copy(k.operators.attacker.operators[0]),defender:b.copy(k.operators.defender.operators[0])},k.mostUsedOperators.attacker.ctu=g("translate")(200288),k.mostUsedOperators.defender.ctu=g("translate")(200289),k.weapons=b.copy(i.parseWeapons(d.weapons))}d.$inject=["session","seasons","statistics","playerProgression","playerProfile","$filter","$state","playerstatisticsService","CONFIG"],b.module("g2w.section.playerstatistics").controller("playerstatisticsController",d)}(window,window.angular),function(a,b,c){"use strict";function d(a,c,d,e,f,g){function h(a,b){var c=d.composeSchema(a),e=d.findIds(c);return d.getStatistics(e,b).then(function(a){return d.replaceSchema(c,a)})}function i(a,d){var e=b.copy(c[d][a]);if(!e)throw new Error("The "+d+" > "+a+" schema is not defined in player statistics constant");return e}function j(a,c){var d=b.copy(c),e=i("operators",a);for(var f in d){var g=d[f];if(g){var h=g.index,j=b.copy(e);j.statistics.forEach(function(a){a.statisticId=a.statisticId+":"+h}),g=Object.assign(g,j);var k=g.uniqueStatistic[a];g.uniqueStatistic=k}}return d}function k(a,c){var d=b.copy(c),e=i("weapons",a),f=e.weaponsList;return f.forEach(function(a){var b=d[a.id],c=b.index;a.statistics.forEach(function(a){a.statisticId=a.statisticId+":"+c}),a=Object.assign(a,d[a.id])}),e}function l(c){var d={};for(var e in c){var f=c[e];f&&(f.category=q[f.category],f.statistics[0].value||(f.noData=!0),d[f.category]=d[f.category]||[],d[f.category].push(f))}var g=["statistics[0].value","-name"];d.attacker=a("orderBy")(d.attacker,g,!0),d.defender=a("orderBy")(d.defender,g,!0),d.attacker=a("emptyToEnd")(d.attacker),d.defender=a("emptyToEnd")(d.defender);var c={attacker:{label:a("translate")("194698"),operators:b.copy(d.attacker)},defender:{label:a("translate")("194697"),operators:b.copy(d.defender)}};return c}function m(a,b,c){function d(){i.isWatched=e.isWatched(b.userId)}var h=a.userId===b.userId,i={};return i.username=b.username,i.image=b.avatar.smallUrl,i.platform=b.platformType,i.clearance=c.profile.level,i.ranks=c.rank,i.compare=function(){var c={profileId:a.profiles[b.platformType].profileId,avatar:a.profiles[b.platformType].avatar.smallUrl,username:a.profiles[b.platformType].username},d={profileId:b.userId,avatar:i.image,username:i.username};g.show(c,d),f.sendEvent("profileWatched",i.isWatched)},d(),i.toggleWatched=function(){e.isWatched(b.userId)?e.remove(b.userId).then(d,d):e.add(b.userId).then(d,d)},i.hideCompare=h,i.hideWatchlist=h,i}function n(a){return a.weaponsList.forEach(function(a){var b=!0;a.statistics.forEach(function(a){a.value&&(b=!1)}),a.noData=b,a.noData||a.statistics.forEach(function(a){a.value||(a.value=0)})}),a}function o(a){return a=n(a)}function p(a){return a=n(a)}var q={atk:"attacker",def:"defender"};return{getStatistics:h,getSchema:i,mergeOperatorSchema:j,mergeWeaponsSchema:k,parseOperators:l,parseIdentity:m,parseWeapons:o,parseModes:p}}d.$inject=["$filter","PLAYERSTATISTICS","statisticsService","watchlistService","googleAnalyticsService","compareService"],b.module("g2w.section.playerstatistics").service("playerstatisticsService",d)}(window,window.angular),function(a,b,c,d){"use strict";function e(a,b,c,d){var e=a.latestSeason-1;return d(function(a,d){"-1"===c.seasonId?b.go(b.next.name,{seasonId:e}):a()})}function f(a,b,c){return b.all({ranks:c.getFile("assets/data/ranks.c2baadef.json"),rewards:c.getFile("assets/data/rewards.99e8723c.json")})}function g(a,b,c,d,e,f,g){return d(function(a,d){var h=parseInt(e.seasonId),i=c.ranks.seasons[h-2],j=c.rewards.seasons[h-2],k=b.seasons[h];i&&j?a(f.parseSchema(i,j,k)):d(g.generateError("notFound","rewards.config","seasonId"))})}function h(a,b,c){var d=b.header.seasonInformation.id;return c.getProfileRank(a.profileId,d)}function i(a,b,c){b.when("/:locale/:platform/rewards","/:locale/:platform/rewards/season/-1"),b.when("/:locale/:platform/rewards/season/","/:locale/:platform/rewards/season/-1"),b.when("/:locale/rewards","/:locale/rewards/season/-1"),b.when("/:locale/rewards/season","/:locale/rewards/season/-1"),a.state("rewardsLogged",{parent:"platform",url:"/rewards/season/:seasonId",views:{"section@root":{templateUrl:"assets/tpl/rewards.tpl.html",controller:"rewardsController",controllerAs:"vm"}},resolve:{redirect:e,content:f,seasonSchema:g,rank:h},data:{permissions:{only:["player"],redirection:{anonymous:{name:"rewards"}}},tagCommander:{pageName:"Rewards",paramId:"seasonId"}}}).state("rewards",{parent:"locale",url:"/rewards/season/:seasonId",views:{"section@root":{templateUrl:"assets/tpl/rewards.tpl.html",controller:"rewardsController",controllerAs:"vm"}},resolve:{redirect:e,content:f,seasonSchema:g,rank:function(){}},data:{permissions:{only:["anonymous"],redirection:{player:{name:"rewardsLogged"}}},tagCommander:{pageName:"Rewards",paramId:"seasonId"}}})}e.$inject=["seasons","$state","$stateParams","$q"],f.$inject=["redirect","$q","contentService"],g.$inject=["locale","seasons","content","$q","$stateParams","rewardsService","errorsService"],h.$inject=["sessionPlatformProfile","seasonSchema","progressionService"],i.$inject=["$stateProvider","$urlRouterProvider","CONFIG"],b.module("g2w.section.rewards").config(i)}(window,window.angular,window._),function(a,b,c){"use strict";var d={};b.module("g2w.section.rewards").constant("REWARDS",d)}(window,window.angular),function(a,b,c,d){"use strict";function e(a,c,d,e,f,g,h){var i=this,j=b.copy(d),k=b.copy(e.ranks.seasons),l=b.copy(a),m=l.seasons,n=[],o=h.current.name;k.forEach(function(a){if(m[a.id]&&a.id!==parseInt(l.latestSeason)){var b={seasonId:a.id,uiSref:o+"({seasonId: "+a.id+"})",label:"207557"};n.push(b)}}),n=c("orderBy")(n,"-id",!0),i.navigation=n,i.background=m[d.header.seasonInformation.id].background,i.header=j.header,i.description=j.description,i.rankList=j.rankList,i.currentRank=f}e.$inject=["seasons","$filter","seasonSchema","content","rank","REWARDS","$state"],b.module("g2w.section.rewards").controller("rewardsController",e)}(window,window.angular,window._),function(a,b,c){"use strict";function d(a){function c(c,d,e){var f={};f.header={seasonInformation:{id:d.id,title:e.name,logo:d.shieldImage}},f.description={nbRankedMatches:d.placementGames,rewardsImage:d.rewardsImage};var g=b.copy(c.divisions);g.forEach(function(a,e){var f=b.copy(d.divisions[e]),a=Object.assign(a,f);a.ranks.forEach(function(b,d){var e=c.ranks[b];a.ranks[d]={},a.ranks[d].icon=e.images["default"],a.ranks[d].label=e.name,a.ranks[d].value=e.range[1],a.ranks[d].range=e.range})}),f.rankList=b.copy(g);var h=JSON.stringify(f,function(b,c){return c&&c.oasisId&&(c=a("translate")(c.oasisId)),c});return JSON.parse(h)}return{parseSchema:c}}d.$inject=["$filter"],b.module("g2w.section.rewards").service("rewardsService",d)}(window,window.angular),function(a,b,c){b.module("config",[]).constant("CONFIG",{season:5,rewardsSeason:4,logLevel:"none",platforms:["xbl","psn","uplay"],env:"prod",appIds:{g2w:"39baebad-39e5-4552-8c25-2c9b919064e2",uplay:"e3d5ea9e-50bd-43b7-88bf-39794f4e3d40",psn:"fb4cc4c9-2063-461d-a1e8-84a7d36525fc",xbl:"4008612d-3baf-49e4-957a-33066726a7bc"},spaceIds:{g2w:"632df4a5-4fd7-4ee5-a0c8-1f221f7e585f",uplay:"5172a557-50b5-4665-b7db-e3f2e8c5041d",psn:"05bfb3f7-6c21-4c42-be1f-97a33fb5cf66",xbl:"98a601e5-ca91-4440-b1c5-753f601a2c90"},sandboxes:{uplay:"OSBOR_PC_LNCH_A",
psn:"OSBOR_PS4_LNCH_A",xbl:"OSBOR_XBOXONE_LNCH_A"},uplayConnect:{genomeId:"4f9d4adf-3646-4058-8553-c7b48df556e0",staticUrl:"http://static8.ubi.com/private/UAT/u/Uplay",iframe:"https://uplayconnect.ubi.com",avatarBaseUrl:"https://ubisoft-avatars.akamaized.net"},ubiservices:{baseUrl:"https://public-ubiservices.ubi.com",wssBaseUrl:"wss://public-ws.aws-ubiservices.ubi.com"},market:{tagCommander:{env:"PROD",adProfileUrl:"https://rainbow6.ubi.com/r6-g2w/AdTech/GetAdProfile"}}}).constant("VERSION","2.3.6")}(window,window.angular),function(a,b,c){"use strict";b.element(document).ready(function(){b.bootstrap(document,["g2w"])})}(window,window.angular),angular.module("g2w").run(["$templateCache",function(a){"use strict";a.put("assets/tpl/errors.tpl.html",'<rs-template-errors rs-prop-code="vm.code" rs-prop-title="vm.title" rs-prop-message="vm.message" rs-prop-links="vm.links">\n</rs-template-errors>'),a.put("assets/tpl/footer.tpl.html",'<rs-organism-footer rs-fn-changed="indexCtrl.localeChanged" rs-prop-lang="{{indexCtrl.localeCode}}" rs-prop-version="{{indexCtrl.appVersion}}">\n</rs-organism-footer>'),a.put("assets/tpl/header.tpl.html",'<rs-organism-header\n    rs-fn-navigate-home="indexCtrl.navigateHome"\n    rs-fn-search-player="indexCtrl.searchPlayer"\n    rs-fn-view-profile="indexCtrl.viewProfile"\n    rs-fn-add-friend="indexCtrl.addFriend"\n    rs-fn-remove-friend="indexCtrl.removeFriend"\n    rs-fn-navigate-profile="indexCtrl.navigateProfile"\n    rs-prop-username="indexCtrl.username"\n    rs-prop-avatar-url="indexCtrl.avatarUrl"\n    rs-fn-platform-selection="indexCtrl.changePlatform"\n    rs-prop-platform-selected="indexCtrl.platform"\n    rs-prop-platform-list="indexCtrl.platformList"\n    rs-fn-login="indexCtrl.login"\n    rs-fn-logout="indexCtrl.logout"\n    rs-prop-navigation-main="indexCtrl.headerNavigation.main"\n    rs-prop-navigation-secondary="indexCtrl.headerNavigation.secondary"\n    rs-prop-is-logged="indexCtrl.logged"\n    rs-fn-toggle-navigation="indexCtrl.toggleNavigation"\n    rs-prop-is-watchlist-toggled="true"\n></rs-organism-header>'),a.put("assets/tpl/home.tpl.html",'<div id="home">\n    <rs-template-login rs-prop-login="indexCtrl.uplayIframeUrl"></rs-template-login> \n</div>'),a.put("assets/tpl/playerstatistics.tab.tpl.html",'<rs-template-player-statistics\r\n    rs-prop-navigation="vm.navigation"\r\n    rs-prop-player-identity="vm.playerIdentity"\r\n    rs-prop-data-main="vm.main"\r\n    rs-prop-data-secondary="vm.secondary"\r\n    rs-prop-data-modes="vm.modes"\r\n    rs-prop-data-most-used-operators="vm.mostUsedOperators"\r\n    rs-prop-data-operators="vm.operators"\r\n    rs-prop-data-weapons="vm.weapons"\r\n    rs-prop-my-profile="vm.isMyProfile"\r\n    rs-prop-no-data="vm.isNoData"\r\n    rs-fn-change-platform="indexCtrl.changePlatform"\r\n    rs-fn-logout="indexCtrl.logout"\r\n    rs-prop-platform="vm.currentPlatform"\r\n    rs-prop-platform-list="indexCtrl.platformList"\r\n    rs-prop-background="vm.background">\r\n</rs-template-player-statistics>\r\n'),a.put("assets/tpl/playerstatistics.tpl.html",'<div ui-view="playerstatisticsView"></div>\n'),a.put("assets/tpl/rewards.tpl.html",'<rs-template-rewards\r\n    rs-prop-navigation="vm.navigation"\r\n    rs-prop-header="vm.header"\r\n    rs-prop-description="vm.description"\r\n    rs-prop-rank-list="vm.rankList"\r\n    rs-prop-current-rank="vm.currentRank"\r\n    rs-prop-is-legacy="vm.isLegacy"\r\n    rs-prop-background="vm.background"\r\n></rs-template-rewards>'),a.put("assets/tpl/root.tpl.html",'<div rs-layout-offcanvas="main">\n    <div rs-layout-offcanvas-panel="left">\n        <rs-organism-side-navigation\n            rs-fn-navigate-home="indexCtrl.navigateHome"\n            rs-fn-search-player="indexCtrl.searchPlayer"\n            rs-fn-view-profile="indexCtrl.viewProfile"\n            rs-fn-add-friend="indexCtrl.addFriend"\n            rs-fn-remove-friend="indexCtrl.removeFriend"\n            rs-fn-navigate-profile="indexCtrl.navigateProfile"\n            rs-prop-username="indexCtrl.username"\n            rs-prop-avatar-url="indexCtrl.avatarUrl"\n            rs-fn-platform-selection="indexCtrl.changePlatform"\n            rs-prop-platform-selected="indexCtrl.platform"\n            rs-prop-platform-list="indexCtrl.platformList"\n            rs-fn-login="indexCtrl.login"\n            rs-fn-logout="indexCtrl.logout"\n            rs-prop-navigation-main="indexCtrl.sideNavigation.main"\n            rs-prop-navigation-secondary="indexCtrl.sideNavigation.secondary"\n            rs-prop-is-logged="indexCtrl.logged"\n            rs-fn-toggle-navigation="indexCtrl.toggleNavigation">\n            ></rs-organism-side-navigation>\n    </div>\n\n    <div rs-layout-offcanvas-main>\n\n        <div rs-layout-flex vertical id="main-layout" ng-class="[indexCtrl.langClass]">\n\n            <rs-layout-flex-header>\n                <div ui-view="header"></div>\n            </rs-layout-flex-header>\n\n            <rs-layout-flex-content force-scroll-top>\n                <div ui-view="section" id="section"></div>\n                <div ui-view="footer"></div>\n                <rs-organism-notification-panel rs-prop-data="indexCtrl.notificationList"></rs-organism-notification-panel>\n            </rs-layout-flex-content>\n\n        </div>\n\n    </div>\n\n    <div rs-layout-offcanvas-panel="right">\n        <rs-organism-watchlist rs-prop-list="indexCtrl.watchlist.watchedPlayers" rs-prop-loading="indexCtrl.watchlist.isLoading" rs-fn-import-friends="indexCtrl.watchlist.importFriends" rs-prop-max-player="indexCtrl.watchlist.maxPlayer">\n        </rs-organism-watchlist>\n    </div>\n</div>')}]);